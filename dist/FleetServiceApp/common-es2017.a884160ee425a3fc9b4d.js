(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"2jix":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var c=i("tk/3"),s=i("AytR"),n=i("fXoL");let o=(()=>{class e{constructor(e){this.http=e,this.URL_API=s.a.apiUrl+"/Contract",this.HttpOptions={headers:new c.c({"Content-Type":"application/json"})}}getContractStates(){return this.http.get(this.URL_API+"/GetContractStates").toPromise()}getDiscountTypes(){return this.http.get(this.URL_API+"/GetDiscountTypes").toPromise()}getContractinitState(){return this.http.get(this.URL_API+"/GetinitContract")}getContractPending(e){return this.http.get(`${this.URL_API}/GetContractPending?deal_id=${e}`)}getContracts(e=0,t=0){return this.http.get(`${this.URL_API}/Get?dealer_id=${e}&client_id=${t}`)}getContractByID(e){return this.http.get(`${this.URL_API}/GetById?pContract_id=${e}`)}async getLastContractByClientAndDealer(e,t){return this.http.get(`${this.URL_API}/getLastContractByClientAndDealer?pClient_id=${e}&pDealer_id=${t}`).toPromise()}async getContractByVehicleId(e){return this.http.get(`${this.URL_API}/GetContractByVehicleId?vehicle_id=${e}`).toPromise()}async getContractByClientId(e){return this.http.get(`${this.URL_API}/GetContractsByClient?client_id=${e}`).toPromise()}insert(e){return this.http.post(this.URL_API+"/Insert",e,this.HttpOptions)}update(e){return this.http.post(this.URL_API+"/Update",e,this.HttpOptions)}delete(e){return this.http.post(this.URL_API+"/Delete",e,this.HttpOptions)}getContractStateSelected(){return this.contractStateSelected}setContractStateSelected(e){this.contractStateSelected=e}getDiscountTypeSelected(){return this.discoutSelected}setDiscountTypeSelected(e){this.discoutSelected=e}setContract(e){this.contract=e}getContract(){return this.contract}setItemsWithPrice(e){this.lsMaintenanceItems=e}getItemsWithPrice(){return this.lsMaintenanceItems}setContractIsToEdit(e){this.contractIsToEdit=e}getContractIsToEdit(){return this.contractIsToEdit}setAction(e){this.action=e}getAction(){return this.action}}return e.\u0275fac=function(t){return new(t||e)(n.fc(c.a))},e.\u0275prov=n.Rb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},FMJ1:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var c=i("tk/3"),s=i("LRne"),n=i("JIr8"),o=i("AytR"),r=i("fXoL");let l=(()=>{class e{constructor(e){this.http=e,this.URL_API=o.a.apiUrl+"/Dealer/",this.HttpOptions={headers:new c.c({"Content-Type":"application/json"})}}getDealers(){return this.http.get(this.URL_API+"/Get")}getDealerById(e){return this.http.get(`${this.URL_API}/GetById?dealerId=${e}`)}getDealersByDocument(e){return this.http.get(`${this.URL_API}/GetByDocument?document=${e}`)}getDealersByDescription(e){return e.trim()?this.http.get(`${this.URL_API}/GetByDescription?description=${e}`).pipe(Object(n.a)(this.handleError("getClientsByDescriptions",[]))):Object(s.a)([])}insertDealer(e){return this.http.post(this.URL_API+"/Insert",e,this.HttpOptions)}updateDealer(e){return this.http.put(this.URL_API+"/Update",e,this.HttpOptions)}deleteDealer(e){return this.http.delete(`${this.URL_API}/Delete?dealerId=${e.id}`,this.HttpOptions)}setDealerSelected(e){this.dealerSelected=e}getDealerSelected(){return this.dealerSelected}handleError(e="operation",t){return e=>(console.error(e),Object(s.a)(t))}}return e.\u0275fac=function(t){return new(t||e)(r.fc(c.a))},e.\u0275prov=r.Rb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},JP3n:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var c=i("fXoL"),s=i("tk/3");let n=(()=>{class e{constructor(e){this.http=e,this.URL_API="API_FleetService/api/SenderMail"}sendMail(e){return this.http.post(this.URL_API+"/send",e)}}return e.\u0275fac=function(t){return new(t||e)(c.fc(s.a))},e.\u0275prov=c.Rb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},K9Qb:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));class c{}},MAxM:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var c=i("fXoL"),s=i("ofXK");function n(e,t){1&e&&(c.bc(0,"em",5),c.Mc(1,"done"),c.ac())}let o=(()=>{class e{constructor(){this.option="",this.isActive=!1,this.disable=!1,this.onCheckItem=new c.q}set setIsActive(e){this.isActive=e}toogleCheck(){this.isActive=!this.isActive,this.onCheckItem.emit(this.isActive)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Pb({type:e,selectors:[["app-input-checkbox"]],inputs:{option:"option",setIsActive:["isActive","setIsActive"],disable:"disable"},outputs:{onCheckItem:"onCheckItem"},decls:7,vars:9,consts:[[1,"container-checkbox"],[1,"checkmark"],["class","material-icons",4,"ngIf"],["type","button",1,"input-chk",3,"id","disabled","click"],[1,"lbl-check",3,"for"],[1,"material-icons"]],template:function(e,t){1&e&&(c.bc(0,"div",0),c.bc(1,"div",1),c.Lc(2,n,2,0,"em",2),c.ac(),c.bc(3,"div"),c.bc(4,"input",3),c.ic("click",(function(){return t.toogleCheck()})),c.ac(),c.bc(5,"label",4),c.Mc(6),c.ac(),c.ac(),c.ac()),2&e&&(c.Jb(1),c.Nb("active",t.isActive)("disable",t.disable),c.Jb(1),c.uc("ngIf",t.isActive),c.Jb(2),c.uc("id",t.option)("disabled",t.disable),c.Jb(1),c.uc("for",t.option),c.Jb(1),c.Nc(t.option))},directives:[s.o],styles:[".container-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center}.lbl-check[_ngcontent-%COMP%]{margin-left:-7px;margin-top:10px;cursor:pointer}.checkmark[_ngcontent-%COMP%]{height:20px;width:20px;background-color:#eee;border:1px solid #686d76;border-radius:5px;display:flex;align-items:center;justify-content:center}.checkmark.active[_ngcontent-%COMP%]{background-color:#81b214;border-radius:50%;border:none;color:#fff}.checkmark.active.disable[_ngcontent-%COMP%]{background-color:#4c6811;border-radius:50%;border:none;color:#fff}.checkmark[_ngcontent-%COMP%] > em[_ngcontent-%COMP%]{font-size:14px}.input-chk[_ngcontent-%COMP%]{background-color:transparent!important;border:none}.disable[_ngcontent-%COMP%]{background-color:#e6e6e6;border:none;color:#fff}"]}),e})()},Rw4P:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var c=i("2Vo4"),s=i("fXoL");let n=(()=>{class e{constructor(){this.client=void 0,this.clientObserver=new c.a(void 0),this.client$=this.clientObserver.asObservable(),this.dealer=void 0,this.dealerObserver=new c.a(void 0),this.dealer$=this.dealerObserver.asObservable(),this.contractState=void 0,this.contractStateObserver=new c.a(void 0),this.contractState$=this.contractStateObserver.asObservable(),this.vehicleModels=[],this.vehicleModelsObserver=new c.a([]),this.vehicleModel$=this.vehicleModelsObserver.asObservable(),this.vehicles=[],this.vehiclesObserver=new c.a([]),this.vehicles$=this.vehiclesObserver.asObservable(),this.discountType=void 0,this.discountTypeObserver=new c.a(void 0),this.discountType$=this.discountTypeObserver.asObservable(),this.discountValue=0,this.discountValueObserver=new c.a(0),this.discountValue$=this.discountValueObserver.asObservable(),this.maintenanceItems=[],this.maintenanceItemsObserver=new c.a([]),this.maintenanceItems$=this.maintenanceItemsObserver.asObservable()}addVehicleModelToList(e){const t=this.vehicleModels.findIndex(t=>t.id==e.id);t>=0?this.vehicleModels[t]=e:this.vehicleModels.push(e),this.vehicleModelsObserver.next(this.vehicleModels)}removeVehicleModelFromList(e){const t=this.vehicleModels.findIndex(t=>t.id==e.id);t>=0&&this.vehicleModels.splice(t,1),this.vehicleModelsObserver.next(this.vehicleModels)}setClientToContract(e){this.client=e,console.log("Client"),console.log(this.client),this.clientObserver.next(this.client)}setDealerToContract(e){this.dealer=e,this.dealerObserver.next(this.dealer)}addVehicleToList(e){const t=this.vehicles.findIndex(t=>t.id==e.id);t>=0?this.vehicles[t]=e:this.vehicles.push(e),this.vehiclesObserver.next(this.vehicles)}removeVehicleFromList(e){const t=this.vehicles.findIndex(t=>t.id==e.id);t>=0&&this.vehicles.splice(t,1),this.vehiclesObserver.next(this.vehicles)}resetVehicleModelList(){this.vehicleModels=[],this.vehicleModelsObserver.next([])}resetVehicleList(){this.vehicles=[],this.vehiclesObserver.next([])}setDiscountType(e){this.discountType=e,this.discountTypeObserver.next(this.discountType)}resetDiscountType(){this.discountType=void 0,this.discountTypeObserver.next(void 0)}setDiscountValue(e){this.discountValue=e,this.discountValueObserver.next(this.discountValue)}resetDiscountValue(){this.discountValue=0,this.discountValueObserver.next(0)}setMaintenanceItems(e){this.maintenanceItems=e,this.maintenanceItemsObserver.next(this.maintenanceItems)}resetMaintenanceItems(){this.maintenanceItems=[],this.maintenanceItemsObserver.next([])}resetContractInformation(){this.clientObserver.next(void 0),this.dealerObserver.next(void 0),this.contractStateObserver.next(void 0),this.resetDiscountType(),this.resetDiscountValue(),this.resetVehicleModelList(),this.resetVehicleList(),this.resetMaintenanceItems()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Rb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},ZyAM:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var c=i("fXoL"),s=i("3Pt+"),n=i("XNiG"),o=i("Kj3r"),r=i("/uUt"),l=i("eIep"),a=i("i5Qh"),h=i("ofXK");function d(e,t){if(1&e){const e=c.cc();c.bc(0,"li",4),c.ic("click",(function(){c.Dc(e);const i=t.$implicit;return c.mc(2).setClient(i)})),c.bc(1,"span",5),c.Mc(2),c.ac(),c.bc(3,"span",6),c.Mc(4),c.nc(5,"titlecase"),c.ac(),c.ac()}if(2&e){const e=t.$implicit;c.Jb(2),c.Nc(e.document),c.Jb(2),c.Oc("| ",c.oc(5,2,e.name),"")}}function u(e,t){if(1&e&&(c.bc(0,"ul"),c.Lc(1,d,6,4,"li",3),c.nc(2,"async"),c.ac()),2&e){const e=c.mc();c.Jb(1),c.uc("ngForOf",c.oc(2,1,e.lsClientSuggestion$))}}let p=(()=>{class e{constructor(e){this.clientService=e,this.description=new n.a,this.clientWasSetted=new c.q,this.frmSearchClient=new s.j({txtClient:new s.g("")}),this.disableField=!1}set setClientSelected(e){this.clientSelected=e,this.clientSelected?this.setDataInForm(this.clientSelected):this.frmSearchClient.reset()}ngOnChanges(e){for(const t in e)"countChanges"==t?(this.clientSelected=this.clientService.getClientSelected(),null!=this.clientSelected&&null!=this.clientSelected?this.setDataInForm(this.clientSelected):this.frmSearchClient.reset()):"disableField"==t&&this.toggleClientField()}ngOnInit(){this.initComponents()}async initComponents(){this.toggleClientField(),this.countChanges=0,this.listIsvisible=!1,this.lsClientSuggestion$=this.description.pipe(Object(o.a)(300),Object(r.a)(),Object(l.a)(e=>this.clientService.getClientsByDescriptions(e)))}searchBydescription(e){""==e&&this.clientService.setClientSelected(null),this.listIsvisible=!0,this.description.next(e)}getClientDescription(e){return`${e.document} | ${e.name.toUpperCase()}`}setClient(e){this.clientSelected=e,this.setDataInForm(e),this.listIsvisible=!1,this.clientService.setClientSelected(e),this.clientWasSetted.emit(!0)}setDataInForm(e){const{txtClient:t}=this.frmSearchClient.controls;t.setValue(this.getClientDescription(e))}loseFocus(){this.clientWasSetted.emit(!0)}toggleClientField(){const{txtClient:e}=this.frmSearchClient.controls;this.disableField?e.disable():e.enable()}}return e.\u0275fac=function(t){return new(t||e)(c.Vb(a.a))},e.\u0275cmp=c.Pb({type:e,selectors:[["app-input-search-client"]],inputs:{countChanges:"countChanges",disableField:"disableField",setClientSelected:["client","setClientSelected"]},outputs:{clientWasSetted:"clientWasSetted"},features:[c.Hb],decls:5,vars:2,consts:[[3,"formGroup"],["type","text","formControlName","txtClient","placeholder","Cliente ...",1,"form-control",3,"input","focusout"],[4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"container__document"],[1,"container__name"]],template:function(e,t){1&e&&(c.bc(0,"form",0),c.bc(1,"label"),c.Mc(2,"Cliente:"),c.ac(),c.bc(3,"input",1),c.ic("input",(function(e){return t.searchBydescription(e.target.value)}))("focusout",(function(){return t.loseFocus()})),c.ac(),c.Lc(4,u,3,3,"ul",2),c.ac()),2&e&&(c.uc("formGroup",t.frmSearchClient),c.Jb(4),c.uc("ngIf",t.listIsvisible))},directives:[s.B,s.r,s.k,s.c,s.q,s.i,h.o,h.n],pipes:[h.b,h.x],styles:["","ul[_ngcontent-%COMP%]{position:absolute;z-index:3}li[_ngcontent-%COMP%]{list-style:none;padding:5px;border-bottom:1px solid grey;cursor:pointer;width:450px;background-color:#fff}li[_ngcontent-%COMP%]:hover{background-color:#87cefa;color:#fff}.container__document[_ngcontent-%COMP%]{display:inline-block;width:100px;height:auto}"]}),e})()},cRgG:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));class c{}},"eeG/":function(e,t,i){"use strict";function c(e){switch(e){case"FINALIZADA":case"PAGADA":return"tag-ending";case"POR RECAUDAR":return"tag-pending";case"ACTIVO":return"tag-ending";case"EN NEGOCIACI\xd3N":return"tag-waiting";case"CANCELADO":return"tag-canceled";default:return"tag-pending"}}i.d(t,"a",(function(){return c}))},iAZX:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var c=i("AytR"),s=i("fXoL"),n=i("tk/3");let o=(()=>{class e{constructor(e){this.http=e,this.URL_API=c.a.apiUrl+"/role"}getAll(){return this.http.get(this.URL_API+"/GetAll")}getById(e){return this.http.get(`${this.URL_API}/GetById/${e}`)}getModulesByRoleId(e){return this.http.get(`${this.URL_API}/GetModuleByRole/${e}`)}save(e){return this.http.post(this.URL_API+"/Save",e)}update(e){return this.http.put(this.URL_API+"/Update",e)}deleteById(e){return this.http.delete(`${this.URL_API}/DeleteById/${e}`)}}return e.\u0275fac=function(t){return new(t||e)(s.fc(n.a))},e.\u0275prov=s.Rb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},ua6w:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var c=i("AytR"),s=i("fXoL"),n=i("tk/3");let o=(()=>{class e{constructor(e){this.http=e,this.URL_API=c.a.apiUrl+"/parameter"}getCompanies(){return this.http.get(this.URL_API+"/GetCompanies")}getModules(){return this.http.get(this.URL_API+"/GetModules")}getClient(){return this.http.get(this.URL_API+"/GetClients")}getDealer(){return this.http.get(this.URL_API+"/GetDealers")}getBrands(){return this.http.get(this.URL_API+"/GetBrands")}getVehiculeType(){return this.http.get(this.URL_API+"/GetVehiculeType")}getVehiculeModel(e,t){return this.http.get(`${this.URL_API}/GetVehiculeModel?brandId=${e}&typeId=${t}`)}getReportFields(){return this.http.get(this.URL_API+"/GetReportFields")}getFieldByModule(e){return this.http.get(`${this.URL_API}/GetFieldsByModule?module=${e}`)}getReports(){return this.http.get(this.URL_API+"/GetReports")}}return e.\u0275fac=function(t){return new(t||e)(s.fc(n.a))},e.\u0275prov=s.Rb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"us/p":function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var c=function(e){return e[e.ACTIVO=1]="ACTIVO",e[e.EN_NEGOCIACION=2]="EN_NEGOCIACION",e[e.CANCELADO=3]="CANCELADO",e[e.FINALIZADO=4]="FINALIZADO",e}({})},wAkH:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var c=i("fXoL"),s=i("3Pt+"),n=i("XNiG"),o=i("Kj3r"),r=i("/uUt"),l=i("eIep"),a=i("FMJ1"),h=i("ofXK");function d(e,t){if(1&e){const e=c.cc();c.bc(0,"li",4),c.ic("click",(function(){c.Dc(e);const i=t.$implicit;return c.mc(2).setDealer(i)})),c.bc(1,"span",5),c.Mc(2),c.ac(),c.bc(3,"span",6),c.Mc(4),c.nc(5,"titlecase"),c.ac(),c.ac()}if(2&e){const e=t.$implicit;c.Jb(2),c.Nc(e.document),c.Jb(2),c.Oc("| ",c.oc(5,2,e.name),"")}}function u(e,t){if(1&e&&(c.bc(0,"ul"),c.Lc(1,d,6,4,"li",3),c.nc(2,"async"),c.ac()),2&e){const e=c.mc();c.Jb(1),c.uc("ngForOf",c.oc(2,1,e.lsDealerSuggestion$))}}let p=(()=>{class e{constructor(e){this.dealerService=e,this.description=new n.a,this.dealerWasSetted=new c.q,this.frmSearchDealer=new s.j({txtDealer:new s.g("")}),this.disableField=!1}set setDealerSelected(e){this.dealerSelected=e,this.dealerSelected?this.setDataInForm(this.dealerSelected):this.frmSearchDealer.reset()}ngOnChanges(e){for(const t in e)"countChanges"==t?(this.dealerSelected=this.dealerService.getDealerSelected(),null!=this.dealerSelected&&null!=this.dealerSelected?(this.setDataInForm(this.dealerSelected),this.dealerWasSetted.emit(!0)):this.frmSearchDealer.reset()):"disableField"==t&&this.toggleFieldDealer()}ngOnInit(){this.initComponents()}async initComponents(){this.disableField&&this.frmSearchDealer.controls.txtDealer.disable(),this.countChanges=0,this.listIsvisible=!1,this.lsDealerSuggestion$=this.description.pipe(Object(o.a)(300),Object(r.a)(),Object(l.a)(e=>this.dealerService.getDealersByDescription(e)))}searchBydescription(e){this.listIsvisible=!0,""==e&&this.dealerService.setDealerSelected(null),this.description.next(e)}getDealerDescription(e){return`${e.document} | ${e.name.toUpperCase()} `}setDealer(e){this.setDataInForm(e),this.dealerService.setDealerSelected(e),this.listIsvisible=!1,this.dealerWasSetted.emit(!0)}setDataInForm(e){const{txtDealer:t}=this.frmSearchDealer.controls;t.setValue(this.getDealerDescription(e))}loseFocus(){this.dealerWasSetted.emit(!0)}toggleFieldDealer(){const{txtDealer:e}=this.frmSearchDealer.controls;this.disableField?e.disable():e.enable()}}return e.\u0275fac=function(t){return new(t||e)(c.Vb(a.a))},e.\u0275cmp=c.Pb({type:e,selectors:[["app-input-search-dealer"]],inputs:{countChanges:"countChanges",disableField:"disableField",setDealerSelected:["dealer","setDealerSelected"]},outputs:{dealerWasSetted:"dealerWasSetted"},features:[c.Hb],decls:5,vars:2,consts:[[3,"formGroup"],["type","text","formControlName","txtDealer","placeholder","Concesionario ...",1,"form-control",3,"input","focusout"],[4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"container__document"],[1,"container__name"]],template:function(e,t){1&e&&(c.bc(0,"form",0),c.bc(1,"label"),c.Mc(2,"Concesionario:"),c.ac(),c.bc(3,"input",1),c.ic("input",(function(e){return t.searchBydescription(e.target.value)}))("focusout",(function(){return t.loseFocus()})),c.ac(),c.Lc(4,u,3,3,"ul",2),c.ac()),2&e&&(c.uc("formGroup",t.frmSearchDealer),c.Jb(4),c.uc("ngIf",t.listIsvisible))},directives:[s.B,s.r,s.k,s.c,s.q,s.i,h.o,h.n],pipes:[h.b,h.x],styles:["","ul[_ngcontent-%COMP%]{position:absolute;z-index:3}li[_ngcontent-%COMP%]{list-style:none;padding:5px;border-bottom:1px solid grey;cursor:pointer;width:450px;background-color:#fff}li[_ngcontent-%COMP%]:hover{background-color:#87cefa;color:#fff}.container__document[_ngcontent-%COMP%]{display:inline-block;width:100px;height:auto}"]}),e})()},xRBo:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var c=i("fXoL"),s=function(e){return e[e.AUTOMOVIl=1]="AUTOMOVIl",e[e.CAMIONETA=2]="CAMIONETA",e[e.CARGA=3]="CARGA",e}({}),n=i("2Vo4"),o=i("0x5P"),r=i("Rw4P"),l=i("ofXK"),a=i("MAxM");function h(e,t){if(1&e){const e=c.cc();c.bc(0,"app-input-checkbox",11),c.ic("onCheckItem",(function(i){c.Dc(e);const s=t.$implicit;return c.mc().toogleItems(i,s.vehicleModel)})),c.ac()}if(2&e){const e=t.$implicit,i=c.mc();c.uc("option",e.vehicleModel.shortName)("isActive",e.status)("disable",i.disableChecks)}}function d(e,t){if(1&e){const e=c.cc();c.bc(0,"app-input-checkbox",11),c.ic("onCheckItem",(function(i){c.Dc(e);const s=t.$implicit;return c.mc().toogleItems(i,s.vehicleModel)})),c.ac()}if(2&e){const e=t.$implicit,i=c.mc();c.uc("option",e.vehicleModel.shortName)("isActive",e.status)("disable",i.disableChecks)}}function u(e,t){if(1&e){const e=c.cc();c.bc(0,"app-input-checkbox",11),c.ic("onCheckItem",(function(i){c.Dc(e);const s=t.$implicit;return c.mc().toogleItems(i,s.vehicleModel)})),c.ac()}if(2&e){const e=t.$implicit,i=c.mc();c.uc("option",e.vehicleModel.shortName)("isActive",e.status)("disable",i.disableChecks)}}let p=(()=>{class e{constructor(e,t){this.vehicleService=e,this.contractStateService=t,this.lsVehicleModels=[],this.lsVehicleModeslObserver=new n.a([]),this.lsVehicleModes$=this.lsVehicleModeslObserver.asObservable(),this.lsAllVehicleModelStatus=[],this.lsVehicleModelAutomovil=[],this.lsVehicleModelCamioneta=[],this.lsVehicleModelCarga=[],this.lsCargaModels=[],this.disableChecks=!1,this.onVehicleModelsWasSetted=new c.q,this.lsVehicleModelsSelected=[],this.contractStateService.vehicleModel$.subscribe(e=>{this.lsVehicleModelsSelected=e}),this.lsVehicleModes$.subscribe(e=>{this.lsAllVehicleModelStatus=e,this.splitVehicleModelsByType(e)}),this.disableChecks=!1}set setLsVehicleModelsSelected(e){this.lsVehicleModelsSelected=null!=e&&null!=e?e:[]}set setDisableControls(e){this.disableControls=e}splitVehicleModelsByType(e){e.forEach(e=>{let t=-1;switch(e.vehicleModel.type.id){case s.AUTOMOVIl:t=this.lsVehicleModelAutomovil.findIndex(t=>t.vehicleModel.id==e.vehicleModel.id),t>=0?this.lsVehicleModelAutomovil[t]=e:this.lsVehicleModelAutomovil.push(e);break;case s.CAMIONETA:t=this.lsVehicleModelCamioneta.findIndex(t=>t.vehicleModel.id==e.vehicleModel.id),t>=0?this.lsVehicleModelCamioneta[t]=e:this.lsVehicleModelCamioneta.push(e);break;case s.CARGA:t=this.lsVehicleModelCarga.findIndex(t=>t.vehicleModel.id==e.vehicleModel.id),t>=0?this.lsVehicleModelCarga[t]=e:this.lsVehicleModelCarga.push(e)}})}ngOnInit(){this.initComponents()}initComponents(){this.getLsVehicleModels()}getLsVehicleModels(){this.vehicleService.getVehicleModelByBrandAndType(0,0).subscribe(e=>{let t=e.map(e=>({vehicleModel:e,status:!1}));this.lsVehicleModeslObserver.next(t),this.updateVehicleModelsSelected()})}toogleItems(e,t){e?this.contractStateService.addVehicleModelToList(t):this.contractStateService.removeVehicleModelFromList(t)}selectAll(e,t){this.forAttributes(e?"add":"delete","car"===t?this.lsVehicleModelAutomovil:"camper"===t?this.lsVehicleModelCamioneta:this.lsVehicleModelCarga)}forAttributes(e,t){t.map(t=>this.contractStateService["add"===e?"addVehicleModelToList":"removeVehicleModelFromList"](t.vehicleModel))}updateVehicleModelsSelected(){let e=this.lsAllVehicleModelStatus;this.contractStateService.vehicleModel$.subscribe(t=>{t.length>0?t.forEach(t=>{e=this.updateStatusByModel(e,t,!0)}):this.resetAllStatus()}),this.lsVehicleModeslObserver.next(e)}updateStatusByModel(e,t,i){return e.find(e=>e.vehicleModel.id==t.id).status=i,e}resetAllStatus(){const e=this.lsAllVehicleModelStatus;e.forEach(t=>{this.lsAllVehicleModelStatus=this.updateStatusByModel(e,t.vehicleModel,!1)}),this.lsVehicleModelAutomovil=[],this.lsVehicleModelCamioneta=[],this.lsVehicleModelCarga=[],this.splitVehicleModelsByType(this.lsAllVehicleModelStatus)}}return e.\u0275fac=function(t){return new(t||e)(c.Vb(o.a),c.Vb(r.a))},e.\u0275cmp=c.Pb({type:e,selectors:[["app-check-list-vehicle-model"]],inputs:{disableChecks:"disableChecks",setLsVehicleModelsSelected:["lsVehicleModelsSelected","setLsVehicleModelsSelected"],setDisableControls:["disableControls","setDisableControls"]},outputs:{onVehicleModelsWasSetted:"onVehicleModelsWasSetted"},decls:28,vars:3,consts:[[1,"container-models"],[1,"container__vehicleModels"],[1,"container__type"],[1,"form-check"],["type","checkbox","id","car",1,"form-check-input",3,"click"],["for","car",1,"form-check-label"],[3,"option","isActive","disable","onCheckItem",4,"ngFor","ngForOf"],["type","checkbox","id","camper",1,"form-check-input",3,"click"],["for","camper",1,"form-check-label"],["type","checkbox","id","carge",1,"form-check-input",3,"click"],["for","carge",1,"form-check-label"],[3,"option","isActive","disable","onCheckItem"]],template:function(e,t){1&e&&(c.bc(0,"div",0),c.bc(1,"p"),c.Mc(2,"L\xedneas de veh\xedculo"),c.ac(),c.bc(3,"div",1),c.bc(4,"div",2),c.bc(5,"h6"),c.Mc(6,"Autom\xf3vil"),c.ac(),c.bc(7,"div",3),c.bc(8,"input",4),c.ic("click",(function(e){return t.selectAll(e.target.checked,"car")})),c.ac(),c.bc(9,"label",5),c.Mc(10,"Seleccionar todos "),c.ac(),c.ac(),c.Lc(11,h,1,3,"app-input-checkbox",6),c.ac(),c.bc(12,"div",2),c.bc(13,"h6"),c.Mc(14,"Camioneta"),c.ac(),c.bc(15,"div",3),c.bc(16,"input",7),c.ic("click",(function(e){return t.selectAll(e.target.checked,"camper")})),c.ac(),c.bc(17,"label",8),c.Mc(18," Seleccionar todos "),c.ac(),c.ac(),c.Lc(19,d,1,3,"app-input-checkbox",6),c.ac(),c.bc(20,"div",2),c.bc(21,"h6"),c.Mc(22,"Carga"),c.ac(),c.bc(23,"div",3),c.bc(24,"input",9),c.ic("click",(function(e){return t.selectAll(e.target.checked,"carge")})),c.ac(),c.bc(25,"label",10),c.Mc(26," Seleccionar todos "),c.ac(),c.ac(),c.Lc(27,u,1,3,"app-input-checkbox",6),c.ac(),c.ac(),c.ac()),2&e&&(c.Jb(11),c.uc("ngForOf",t.lsVehicleModelAutomovil),c.Jb(8),c.uc("ngForOf",t.lsVehicleModelCamioneta),c.Jb(8),c.uc("ngForOf",t.lsVehicleModelCarga))},directives:[l.n,a.a],styles:[".container-models[_ngcontent-%COMP%]{margin-top:20px}.container__vehicleModels[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding-left:20px}.container__type[_ngcontent-%COMP%]{border-left:1px solid #ccc;padding-left:20px;width:400px}.container__model[_ngcontent-%COMP%]{display:grid;grid-template-columns:25px 1fr;grid-template-rows:1fr;cursor:pointer;padding:2px 5px;margin-left:10px}.container__model[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:5px;cursor:pointer}label[_ngcontent-%COMP%]{font-size:16px!important}.container__model[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{cursor:pointer}.container__checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled ~ .checkmark[_ngcontent-%COMP%]{border:1px solid #686d76;background-color:#ccc!important;border-radius:5px}",'.container__checkbox[_ngcontent-%COMP%]{display:block;position:relative;padding-left:3px;padding-right:3px;margin-bottom:12px;cursor:pointer;font-size:22px;-webkit-user-select:none;user-select:none}.container__checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmark[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:20px;width:20px;background-color:#eee;border:1px solid #686d76;border-radius:5px}.container__checkbox[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{background-color:#ccc}.container__checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#81b214;border-radius:50%;border:none}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.container__checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.container__checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled ~ .checkmark[_ngcontent-%COMP%]{border:1px solid #686d76;border-radius:5px}.container__checkbox[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{left:8px;top:5px;width:5px;height:10px;border:solid #fff;border-width:0 2px 2px 0;transform:rotate(45deg)}']}),e})()}}]);