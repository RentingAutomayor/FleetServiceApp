(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{tNPA:function(t,e,c){"use strict";c.d(e,"a",(function(){return i}));var n=c("fXoL");let i=(()=>{class t{constructor(){this.regexStr=/[0-9]/}onKeyPress(t){return new RegExp(this.regexStr).test(t.key)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=n.Qb({type:t,selectors:[["","appOnlyNumbers",""]],hostBindings:function(t,e){1&t&&n.ic("keypress",(function(t){return e.onKeyPress(t)}))}}),t})()},uswQ:function(t,e,c){"use strict";c.d(e,"a",(function(){return l}));var n=c("fXoL"),i=c("tyNb"),a=c("ofXK");function o(t,e){if(1&t&&(n.bc(0,"a",11),n.Mc(1),n.ac()),2&t){const t=e.$implicit;n.vc("id",t.moduleDescription),n.vc("routerLink",t.path),n.Jb(1),n.Nc(t.moduleName)}}let r=(()=>{class t{constructor(t){this.router=t,this.showCloseMenu=new n.q,this.moduleFathers=[],this.loadApp()}ngOnInit(){this.initComponents()}loadApp(){this.session=JSON.parse(sessionStorage.getItem("sessionUser")),null==this.session&&this.router.navigate(["Login"]),this.session.group.modules.forEach(t=>{0==t.id_moduleF&&this.moduleFathers.push(t)})}initComponents(){this.containerMenu=document.querySelector("#container__menu")}}return t.\u0275fac=function(e){return new(e||t)(n.Vb(i.b))},t.\u0275cmp=n.Pb({type:t,selectors:[["app-navigation"]],outputs:{showCloseMenu:"showCloseMenu"},decls:18,vars:2,consts:[["id","container__menu",1,"container__menu"],[1,"container__user"],[1,"container__user-img"],["src","assets/user.png","alt","user"],[1,"container__user-info"],[1,"container__user-info-title"],[1,"container__user-info-subtitle"],["routerLink","/Home","routerLinkActive","item-nav-active",1,"item-navigation"],["class","item-navigation","routerLinkActive","item-nav-active",3,"id","routerLink",4,"ngFor","ngForOf"],[1,"copyright_footer"],["href","https://www.sinapsistechnologies.com.co/","target","_blank"],["routerLinkActive","item-nav-active",1,"item-navigation",3,"id","routerLink"]],template:function(t,e){1&t&&(n.bc(0,"div",0),n.bc(1,"div"),n.bc(2,"div",1),n.bc(3,"div",2),n.Wb(4,"img",3),n.ac(),n.bc(5,"div",4),n.bc(6,"span",5),n.Mc(7,"Bienvenido"),n.ac(),n.bc(8,"span",6),n.Mc(9),n.ac(),n.ac(),n.ac(),n.Wb(10,"hr"),n.bc(11,"div"),n.bc(12,"a",7),n.Mc(13,"Inicio"),n.ac(),n.Lc(14,o,2,3,"a",8),n.ac(),n.ac(),n.bc(15,"div",9),n.bc(16,"a",10),n.Mc(17,"\xa9 2022 Sinapsis Technologies "),n.ac(),n.ac(),n.ac()),2&t&&(n.Jb(9),n.Nc(e.session.name),n.Jb(5),n.uc("ngForOf",e.moduleFathers))},directives:[i.e,i.d,a.n],styles:[".container__menu[_ngcontent-%COMP%]{height:100%;width:250px;position:fixed;z-index:10;top:0;left:0;background-color:#111;overflow-x:hidden;padding-top:70px;transition:1s;display:flex;flex-direction:column;justify-content:space-between}.container__menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:8px 8px 8px 32px;text-decoration:none;color:#818181;font-size:25px;display:block;transition:.3s}.container__menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#f1f1f1}.btnClose[_ngcontent-%COMP%]{position:absolute;top:0;right:25px;font-size:36px;margin-left:50px}#btnMenu[_ngcontent-%COMP%]{padding:2px 10px;margin-left:30px;margin-top:30px}.item-nav-active[_ngcontent-%COMP%]{background-color:#0f4c75!important;color:#f1f1f1!important}.container__user[_ngcontent-%COMP%]{display:grid;grid-template-columns:50px 200px;grid-row:200px;margin-bottom:30px;cursor:pointer}.container__user-img[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:#3282b8;width:50px;height:50px;border-radius:50%;margin-left:20px}.container__user-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#f1f1f1;margin-left:40px}.container__user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}.container__user-info-title[_ngcontent-%COMP%]{font-size:22px}.container__user-info-subtitle[_ngcontent-%COMP%]{font-size:18px;margin-top:-5px}.item-navigation[_ngcontent-%COMP%]{cursor:pointer;padding-top:10px;padding-bottom:10px}.copyright_footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-size:12px;text-align:center}"]}),t})(),l=(()=>{class t{constructor(t){this.router=t}ngOnInit(){}logout(){confirm("\xbfEst\xe1 seguro que desea cerrar sesi\xf3n?")&&(sessionStorage.removeItem("sessionUser"),this.router.navigate(["/Login"]))}}return t.\u0275fac=function(e){return new(e||t)(n.Vb(i.b))},t.\u0275cmp=n.Pb({type:t,selectors:[["app-layout"]],decls:5,vars:0,consts:[[1,"upper_bar"],[3,"click"],["title","Cerrar sesi\xf3n",1,"fas","fa-sign-out-alt","icon"]],template:function(t,e){1&t&&(n.Wb(0,"app-navigation"),n.bc(1,"div",0),n.bc(2,"a",1),n.ic("click",(function(){return e.logout()})),n.Wb(3,"i",2),n.ac(),n.ac(),n.Wb(4,"router-outlet"))},directives:[r,i.g],styles:[".upper_bar[_ngcontent-%COMP%]{width:100%;height:50px;background-color:#0f4c75;display:flex;justify-content:flex-end}i[_ngcontent-%COMP%]{margin-top:10px;margin-right:20px;padding:10px}.icon[_ngcontent-%COMP%]{color:#fff}.icon[_ngcontent-%COMP%]:hover{color:#d3d3d3}"]}),t})()},yrLp:function(t,e,c){"use strict";c.r(e),c.d(e,"PayproviderModule",(function(){return V}));var n=c("ofXK"),i=c("tyNb"),a=c("uswQ"),o=c("fXoL"),r=c("wZkO"),l=c("3Pt+"),s=c("eeG/");class d{}class b{constructor(t){this.id=t}}var p=c("2Vo4"),u=c("AytR"),f=c("tk/3");let g=(()=>{class t{constructor(t){this.http=t,this.reloadTable=new p.a(""),this.URL_API=u.a.apiUrl+"/Bill/",this.URL_API_BILLSTATE=u.a.apiUrl+"/BillState/"}getordersfinished(){return this.http.get(this.URL_API+"getAllOrderWorksToBill")}getbills(){return this.http.get(this.URL_API+"Get")}paybill(t){return this.http.post(this.URL_API+"PayBill",t)}insertbill(t){return this.http.post(this.URL_API+"Insert",t)}updatebill(t){return this.http.post(this.URL_API+"UpdateBill",t)}deletebillbyID(t){return this.http.delete(`${this.URL_API}delete?bill_id=${t}`)}getbillstate(){return this.http.get(this.URL_API_BILLSTATE+"Get")}getbillstatebyid(t){return this.http.get(this.URL_API_BILLSTATE+"GetById?Tid="+t)}}return t.\u0275fac=function(e){return new(e||t)(o.fc(f.a))},t.\u0275prov=o.Rb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var h=c("3LUQ"),m=c("hzby"),_=c("bTqV"),C=c("NFeN");let x=(()=>{class t{transform(t,e){return t&&e?t.filter(t=>this.applyFilter(t,e)):t}applyFilter(t,e){let c=!1;return c=!(e.code&&-1===t.bill_code.toLowerCase().indexOf(e.code.toLowerCase())||e.txtState&&-1===t.BillStateDto.name.toLowerCase().indexOf(e.txtCliente.toLowerCase())||e.txtCliente&&-1===t.name_client.toLowerCase().indexOf(e.txtConcesionario.toLowerCase())),c}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=o.Ub({name:"tableFilterBill",type:t,pure:!0}),t})();function v(t,e){if(1&t){const t=o.cc();o.bc(0,"tr"),o.bc(1,"td"),o.bc(2,"input",16),o.ic("click",(function(){o.Dc(t);const c=e.$implicit;return o.mc().checkBill(c)})),o.ac(),o.ac(),o.bc(3,"td"),o.Mc(4),o.ac(),o.bc(5,"td"),o.Mc(6),o.ac(),o.bc(7,"td"),o.Mc(8),o.ac(),o.bc(9,"td"),o.Mc(10),o.ac(),o.bc(11,"td"),o.Mc(12),o.ac(),o.bc(13,"td"),o.Mc(14),o.ac(),o.bc(15,"td"),o.Mc(16),o.nc(17,"date"),o.nc(18,"date"),o.ac(),o.bc(19,"td"),o.Mc(20),o.nc(21,"currency"),o.ac(),o.bc(22,"td"),o.bc(23,"span",17),o.Mc(24),o.ac(),o.ac(),o.bc(25,"td",18),o.bc(26,"div",19),o.bc(27,"i",20),o.ic("click",(function(){o.Dc(t);const c=e.$implicit;return o.mc().deletebill(c)})),o.ac(),o.ac(),o.ac(),o.ac()}if(2&t){const t=e.$implicit,c=e.index,n=o.mc();o.Jb(2),o.uc("checked",t.isChecked)("name",t.name_client)("id",t.bill_id),o.Jb(2),o.Nc(c+1),o.Jb(2),o.Nc(null!=t.bill_id?t.bill_code:""),o.Jb(2),o.Nc(t.Order_work.trx_code),o.Jb(2),o.Nc(t.Order_work.cli_name),o.Jb(2),o.Nc(t.Order_work.veh_licensePlate),o.Jb(2),o.Nc(t.Order_work.deal_name),o.Jb(2),o.Oc(" ",null!=t.bill_updateDate?o.pc(17,13,t.bill_updateDate,"yyyy/MM/dd"):o.pc(18,16,t.bill_registrationDate,"yyyy/MM/dd")," "),o.Jb(4),o.Nc(o.rc(21,19,t.bill_value,"USD","symbol","1.0-0")),o.Jb(3),o.uc("ngClass",n.getClass(t.bill_state.name)),o.Jb(1),o.Oc(" ",t.bill_state.name," ")}}const M=function(){return{dateInputFormat:"YYYY/MM/DD",containerClass:"theme-dark-blue"}};let y=(()=>{class t{constructor(t,e){this.BillService=t,this.alertService=e,this.lsbill=[],this.isAllChecked=!1,this.selecttedBills=[],this.txtfilter=new l.j({code:new l.g(""),date_init:new l.g(""),txtCliente:new l.g(""),date_end:new l.g(""),txtState:new l.g(""),Concesionario:new l.g("")})}ngOnInit(){this.initComponents(),this.listenerObservable()}async initComponents(){await this.getDataTransactions()}async getDataTransactions(){try{this.BillService.getbills().subscribe(t=>{console.log(t),this.lsbill=t,console.log("array de bills",this.lsbill)})}catch(t){console.warn(t)}}getBillSelected(){let t=[];return this.lsbill.forEach(e=>{(null==e?void 0:e.isChecked)&&t.push(null==e?void 0:e.bill_id)}),console.log(t),t}async payBill(){let t=new d;t.BILL_ID=this.getBillSelected(),t.STATE=new b(2);try{this.BillService.paybill(t).subscribe(()=>{this.alertService.succes("Factura pagada"),this.getDataTransactions()})}catch(e){console.warn(e)}}async deletebill(t){this.alertService.confirm("\xbfEst\xe1 seguro de eliminar la factura?",async()=>{try{await this.BillService.deletebillbyID(null==t?void 0:t.bill_id).subscribe(()=>{this.alertService.succes("Factura eliminada correctamente"),this.getDataTransactions(),this.BillService.reloadTable.next("bill")})}catch(e){console.warn(e)}})}resetFilter(){this.txtfilter.reset()}checkBill(t){t.isChecked=!t.isChecked,t.isChecked?this.selecttedBills.push(t):this.selecttedBills.splice(this.selecttedBills.indexOf(t),1)}listenerObservable(){this.BillService.reloadTable.subscribe(t=>{"payprovider"===t&&this.getDataTransactions()})}toogleAll(){this.isAllChecked=!this.isAllChecked,this.lsbill.forEach(t=>{t.isChecked=this.isAllChecked})}getClass(t){return Object(s.a)(t)}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(g),o.Vb(h.a))},t.\u0275cmp=o.Pb({type:t,selectors:[["app-tbl-bill"]],decls:57,vars:11,consts:[[1,"container__filter",3,"formGroup"],[1,"container__col"],["type","text","formControlName","code",1,"form-control"],["type","text","placeholder","fecha inicio ...","bsDatepicker","","formControlName","date_init","disabled","true",1,"form-control",3,"bsConfig"],["type","text","placeholder","fecha fin ...","bsDatepicker","","formControlName","date_end","disabled","true",1,"form-control",3,"bsConfig"],["type","text","formControlName","txtState",1,"form-control"],["type","text","formControlName","txtCliente",1,"form-control"],[1,"container__buttons"],[1,"btn","btn-info",3,"click"],[1,"tableopc"],["mat-fab","",1,"btnAdd",3,"disabled","click"],[1,"table","table-striped"],[1,"selectAllchecbox"],["for","checkAll"],["type","checkbox","id","checkAll",3,"checked","click"],[4,"ngFor","ngForOf"],["type","checkbox",3,"checked","name","id","click"],[3,"ngClass"],[1,"table_options"],[1,"opc"],["title","M\xe1s informaci\xf3n",1,"fas","fa-times-circle","text-danger",3,"click"]],template:function(t,e){1&t&&(o.bc(0,"div",0),o.bc(1,"div",1),o.bc(2,"label"),o.Mc(3,"C\xf3digo Factura"),o.ac(),o.Wb(4,"input",2),o.ac(),o.bc(5,"div",1),o.bc(6,"label"),o.Mc(7,"Fecha inicio:"),o.ac(),o.Wb(8,"input",3),o.ac(),o.bc(9,"div",1),o.bc(10,"label"),o.Mc(11,"Fecha fin:"),o.ac(),o.Wb(12,"input",4),o.ac(),o.bc(13,"div",1),o.bc(14,"label"),o.Mc(15,"Estado"),o.ac(),o.Wb(16,"input",5),o.ac(),o.bc(17,"div",1),o.bc(18,"label"),o.Mc(19,"Cliente"),o.ac(),o.Wb(20,"input",6),o.ac(),o.bc(21,"div",7),o.bc(22,"button",8),o.ic("click",(function(){return e.resetFilter()})),o.Mc(23," Limpiar Filtros "),o.ac(),o.ac(),o.ac(),o.bc(24,"div",9),o.bc(25,"button",10),o.ic("click",(function(){return e.payBill()})),o.bc(26,"mat-icon"),o.Mc(27,"assignment"),o.ac(),o.ac(),o.bc(28,"table",11),o.bc(29,"thead"),o.bc(30,"th"),o.bc(31,"div",12),o.Wb(32,"label",13),o.bc(33,"input",14),o.ic("click",(function(){return e.toogleAll()})),o.ac(),o.ac(),o.ac(),o.bc(34,"th"),o.Mc(35,"#"),o.ac(),o.bc(36,"th"),o.Mc(37,"C\xf3digo Fac Concesionario"),o.ac(),o.bc(38,"th"),o.Mc(39,"C\xf3digo Ord Trabajo"),o.ac(),o.bc(40,"th"),o.Mc(41,"Cliente"),o.ac(),o.bc(42,"th"),o.Mc(43,"Placa"),o.ac(),o.bc(44,"th"),o.Mc(45,"Concesionario"),o.ac(),o.bc(46,"th"),o.Mc(47,"Fecha Factura"),o.ac(),o.bc(48,"th"),o.Mc(49,"Valor Servicio"),o.ac(),o.bc(50,"th"),o.Mc(51,"Estado"),o.ac(),o.bc(52,"th"),o.Mc(53,"Acciones"),o.ac(),o.ac(),o.bc(54,"tbody"),o.Lc(55,v,28,24,"tr",15),o.nc(56,"tableFilterBill"),o.ac(),o.ac(),o.ac()),2&t&&(o.uc("formGroup",e.txtfilter),o.Jb(8),o.uc("bsConfig",o.wc(9,M)),o.Jb(4),o.uc("bsConfig",o.wc(10,M)),o.Jb(13),o.uc("disabled",0===e.selecttedBills.length),o.Jb(8),o.uc("checked",e.isAllChecked),o.Jb(22),o.uc("ngForOf",o.pc(56,6,e.lsbill,e.txtfilter.value)))},directives:[l.r,l.k,l.c,l.q,l.i,m.b,m.a,_.a,C.a,n.n,n.m],pipes:[x,n.f,n.d],styles:[".container__filter[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;margin-bottom:10px}.container__filter[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:10px 20px;width:250px}.table-options[_ngcontent-%COMP%]{display:inline;align-items:center}.selectAllchecbox[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{margin-left:5px}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:inherit}.opc[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;width:100%;height:100%;justify-content:space-evenly}.tag-pending[_ngcontent-%COMP%]{background-color:#ff4f03;padding:8px 20px}.tag-ending[_ngcontent-%COMP%], .tag-pending[_ngcontent-%COMP%]{display:flex;flex-direction:row;color:#fff;border-radius:20px;width:150px;align-items:center;justify-content:center}.tag-ending[_ngcontent-%COMP%]{background-color:#469627;padding:8px 40px}"]}),t})();var O=c("0IaG"),w=c("kmnG"),k=c("qFsG"),P=c("tNPA");let F=(()=>{class t{constructor(t,e,c,n){this.dialogRef=t,this.data=e,this.alertService=c,this.billService=n,this.txtForm=new l.j({state:new l.g(""),fecha:new l.g(""),code:new l.g(""),valuebeforeIva:new l.g(""),valueiva:new l.g(""),value:new l.g(""),codfac:new l.g(""),trx_id:new l.g("")}),this.disabled=!0}ngOnInit(){this.initComponets()}initComponets(){this.txtForm.setValue({state:this.data.state,fecha:this.data.fecha,code:this.data.code,valuebeforeIva:this.data.valuebeforeiva,valueiva:this.data.iva,value:this.data.value,codfac:this.data.codeFac,trx_id:this.data.trx_id})}onNoClick(){this.dialogRef.close()}async registerFac(){this.alertService.confirm("\xbfEst\xe1 seguro de registrar la factura?",()=>{this.registerBill(),this.dialogRef.close()})}async registerBill(){const t=new d;t.STATE=new b(1),t.CODE=this.txtForm.value.codfac,t.trx_id=this.txtForm.value.trx_id,t.value=this.txtForm.value.value,console.log(t),this.billService.insertbill(t).subscribe(t=>{this.alertService.succes("Factura registrada correctamente")})}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(O.h),o.Vb(O.a),o.Vb(h.a),o.Vb(g))},t.\u0275cmp=o.Pb({type:t,selectors:[["app-modal-bill"]],decls:44,vars:1,consts:[["mat-dialog-content",""],[1,"formdata",3,"formGroup"],["appearance","outline"],[1,"formdata__fac"],["readonly","","formControlName","state","matInput","","placeholder","Estado de la factura","for",""],["readonly","","matInput","","placeholder","Fecha Factura","for","","formControlName","fecha"],["readonly","","matInput","","placeholder","Codigo Factura","for","","formControlName","code"],["readonly","","appOnlyNumbers","","matInput","","placeholder","Valor Antes De Iva","for","","formControlName","valuebeforeIva"],["readonly","","appOnlyNumbers","","matInput","","placeholder","Iva","for","","formControlName","valueiva"],["readonly","","appOnlyNumbers","","matInput","","placeholder","Valor Total","for","","formControlName","value"],["appearance","outline","color","accent"],["matInput","","placeholder","Ingrese El Codigo Factura","for","","formControlName","codfac"],["mat-dialog-actions",""],["mat-raised-button","",1,"cancelBtn",3,"click"],["mat-raised-button","",1,"registerBtn",3,"click"]],template:function(t,e){1&t&&(o.bc(0,"h3"),o.Mc(1,"RESUMEN ORDEN"),o.ac(),o.bc(2,"div",0),o.bc(3,"div",1),o.bc(4,"mat-form-field",2),o.bc(5,"mat-label"),o.Mc(6,"Estado Factura"),o.ac(),o.bc(7,"div",3),o.Wb(8,"input",4),o.ac(),o.ac(),o.bc(9,"mat-form-field",2),o.bc(10,"mat-label"),o.Mc(11,"Fecha Orden De Trabajo"),o.ac(),o.bc(12,"div",3),o.Wb(13,"input",5),o.ac(),o.ac(),o.bc(14,"mat-form-field",2),o.bc(15,"mat-label"),o.Mc(16,"Codigo Orden De Trabajo"),o.ac(),o.bc(17,"div",3),o.Wb(18,"input",6),o.ac(),o.ac(),o.bc(19,"mat-form-field",2),o.bc(20,"mat-label"),o.Mc(21,"Valor Antes De IVA"),o.ac(),o.bc(22,"div",3),o.Wb(23,"input",7),o.ac(),o.ac(),o.bc(24,"mat-form-field",2),o.bc(25,"mat-label"),o.Mc(26,"Valor Iva"),o.ac(),o.bc(27,"div",3),o.Wb(28,"input",8),o.ac(),o.ac(),o.bc(29,"mat-form-field",2),o.bc(30,"mat-label"),o.Mc(31,"Valor Total"),o.ac(),o.bc(32,"div",3),o.Wb(33,"input",9),o.ac(),o.ac(),o.bc(34,"mat-form-field",10),o.bc(35,"mat-label"),o.Mc(36,"Codigo Factura"),o.ac(),o.bc(37,"div",3),o.Wb(38,"input",11),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(39,"div",12),o.bc(40,"button",13),o.ic("click",(function(){return e.onNoClick()})),o.Mc(41," Cancelar"),o.ac(),o.bc(42,"button",14),o.ic("click",(function(){return e.registerFac()})),o.Mc(43," Asociar Factura"),o.ac(),o.ac()),2&t&&(o.Jb(3),o.uc("formGroup",e.txtForm))},directives:[O.f,l.r,l.k,w.c,w.f,l.c,k.b,l.q,l.i,P.a,O.c,_.a],styles:[".formdata[_ngcontent-%COMP%]{display:flex;flex-direction:column}.cancelBtn[_ngcontent-%COMP%]{background-color:#6c757d}.registerBtn[_ngcontent-%COMP%]{background-color:#28a745}"]}),t})(),D=(()=>{class t{transform(t,e){return t&&e?t.filter(t=>this.applyFilter(t,e)):t}applyFilter(t,e){let c=!1;return c=!(e.code&&-1===t.trx_code.toLowerCase().indexOf(e.code.toLowerCase())||e.txtCliente&&-1===t.cli_name.toLowerCase().indexOf(e.txtCliente.toLowerCase())||e.txtConcesionario&&-1===t.deal_name.toLowerCase().indexOf(e.txtConcesionario.toLowerCase())||e.txtPlaca&&-1===t.veh_licensePlate.toLowerCase().indexOf(e.txtPlaca.toLowerCase())),c}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=o.Ub({name:"tableFilter",type:t,pure:!0}),t})();function N(t,e){if(1&t){const t=o.cc();o.bc(0,"tr"),o.bc(1,"td"),o.Mc(2),o.ac(),o.bc(3,"td"),o.Mc(4),o.ac(),o.bc(5,"td"),o.Mc(6),o.ac(),o.bc(7,"td"),o.Mc(8),o.ac(),o.bc(9,"td"),o.Mc(10),o.ac(),o.bc(11,"td"),o.Mc(12),o.nc(13,"date"),o.nc(14,"date"),o.ac(),o.bc(15,"td"),o.Mc(16),o.nc(17,"currency"),o.ac(),o.bc(18,"td"),o.bc(19,"span",13),o.Mc(20),o.ac(),o.ac(),o.bc(21,"td",14),o.bc(22,"div",15),o.bc(23,"i",16),o.ic("click",(function(){o.Dc(t);const c=e.$implicit;return o.mc().openDialog(c)})),o.ac(),o.ac(),o.ac(),o.ac()}if(2&t){const t=e.$implicit,c=e.index,n=o.mc();o.Jb(2),o.Nc(c+1),o.Jb(2),o.Nc(null!=t.trx_code?t.trx_code:""),o.Jb(2),o.Nc(t.cli_name),o.Jb(2),o.Nc(t.veh_licensePlate),o.Jb(2),o.Nc(t.deal_name),o.Jb(2),o.Oc(" ",null!=t.trx_updateDate?o.pc(13,9,t.trx_updateDate,"yyyy/MM/dd"):o.pc(14,12,t.trx_registrationDate,"yyyy/MM/dd")," "),o.Jb(4),o.Nc(o.rc(17,15,t.trx_value,"USD","symbol","1.0-0")),o.Jb(3),o.uc("ngClass",n.getClass(t.order_state.name)),o.Jb(1),o.Oc(" ",t.order_state.name," ")}}const A=function(){return{dateInputFormat:"YYYY/MM/DD",containerClass:"theme-dark-blue"}};let S=(()=>{class t{constructor(t,e,c){this.BillService=t,this.alertService=e,this.dialog=c,this.isAllChecked=!1,this.selectedOrderWorks=[],this.txtfilter=new l.j({code:new l.g(""),txtdate_init:new l.g(""),txtdate_end:new l.g(""),txtCliente:new l.g(""),txtConcesionario:new l.g(""),txtPlaca:new l.g("")})}ngOnInit(){this.initComponents(),this.listenerObservable()}async initComponents(){await this.getDataTransactions()}resetFilter(){this.txtfilter.reset()}toogleAll(){this.isAllChecked=!this.isAllChecked,this.lsOrderWork.forEach(t=>{t.isChecked=this.isAllChecked})}checkWorkOrder(t){t.isChecked=!t.isChecked,t.isChecked?this.selectedOrderWorks.push(t):this.selectedOrderWorks.splice(this.selectedOrderWorks.indexOf(t),1)}async getDataTransactions(){try{this.BillService.getordersfinished().subscribe(t=>{this.lsOrderWork=t,this.lsOrderWork=this.lsOrderWork.filter(t=>1!=t.trx_bill_status)})}catch(t){console.warn(t)}}getClass(t){return Object(s.a)(t)}listenerObservable(){this.BillService.reloadTable.subscribe(t=>{"bill"===t&&this.getDataTransactions()})}transformDate(t){let e=new Date(t);return e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()}openDialog(t){let e={state:null==t?void 0:t.order_state.name,fecha:this.transformDate(null!=(null==t?void 0:t.trx_updateDate)?null==t?void 0:t.trx_updateDate:null==t?void 0:t.trx_registrationDate),code:null==t?void 0:t.trx_code,valuebeforeiva:null==t?void 0:t.beforeiva,iva:null==t?void 0:t.iva,value:null==t?void 0:t.trx_value,codeFac:"",trx_id:null==t?void 0:t.trx_id};this.dialog.open(F,{width:"600px",height:"700px",data:e}).afterClosed().subscribe(t=>{this.getDataTransactions(),this.BillService.reloadTable.next("payprovider")})}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(g),o.Vb(h.a),o.Vb(O.b))},t.\u0275cmp=o.Pb({type:t,selectors:[["app-tbl-payprovider"]],decls:52,vars:11,consts:[[1,"container__filter",3,"formGroup"],[1,"container__col"],["type","text","formControlName","code",1,"form-control"],["type","text","placeholder","fecha inicio ...","bsDatepicker","","formControlName","txtdate_init","disabled","true",1,"form-control",3,"bsValue","bsConfig"],["type","text","placeholder","fecha fin ...","bsDatepicker","","formControlName","txtdate_end","disabled","true",1,"form-control",3,"bsValue","bsConfig"],["type","text","formControlName","txtCliente",1,"form-control"],["type","text","formControlName","txtConcesionario",1,"form-control"],["type","text","formControlName","txtPlaca",1,"form-control"],[1,"container__buttons"],[1,"btn","btn-info",3,"click"],[1,"mastertable"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[3,"ngClass"],[1,"table_options"],[1,"opc"],["title","M\xe1s informaci\xf3n",1,"fas","fa-solid","fa-registered",3,"click"]],template:function(t,e){1&t&&(o.bc(0,"div",0),o.bc(1,"div",1),o.bc(2,"label"),o.Mc(3,"C\xf3digo"),o.ac(),o.Wb(4,"input",2),o.ac(),o.bc(5,"div",1),o.bc(6,"label"),o.Mc(7,"Fecha inicio:"),o.ac(),o.Wb(8,"input",3),o.ac(),o.bc(9,"div",1),o.bc(10,"label"),o.Mc(11,"Fecha fin:"),o.ac(),o.Wb(12,"input",4),o.ac(),o.bc(13,"div",1),o.bc(14,"label"),o.Mc(15,"Cliente"),o.ac(),o.Wb(16,"input",5),o.ac(),o.bc(17,"div",1),o.bc(18,"label"),o.Mc(19,"Concesionario"),o.ac(),o.Wb(20,"input",6),o.ac(),o.bc(21,"div",1),o.bc(22,"label"),o.Mc(23,"Placa"),o.ac(),o.Wb(24,"input",7),o.ac(),o.bc(25,"div",8),o.bc(26,"button",9),o.ic("click",(function(){return e.resetFilter()})),o.Mc(27," Reset Filtros "),o.ac(),o.ac(),o.ac(),o.bc(28,"div",10),o.bc(29,"table",11),o.bc(30,"thead"),o.bc(31,"th"),o.Mc(32,"#"),o.ac(),o.bc(33,"th"),o.Mc(34,"C\xf3digo"),o.ac(),o.bc(35,"th"),o.Mc(36,"Cliente"),o.ac(),o.bc(37,"th"),o.Mc(38,"Placa"),o.ac(),o.bc(39,"th"),o.Mc(40,"Concesionario"),o.ac(),o.bc(41,"th"),o.Mc(42,"Fecha"),o.ac(),o.bc(43,"th"),o.Mc(44,"Valor Servicio"),o.ac(),o.bc(45,"th"),o.Mc(46,"Estado"),o.ac(),o.bc(47,"th"),o.Mc(48,"Acciones "),o.ac(),o.ac(),o.bc(49,"tbody"),o.Lc(50,N,24,20,"tr",12),o.nc(51,"tableFilter"),o.ac(),o.ac(),o.ac()),2&t&&(o.uc("formGroup",e.txtfilter),o.Jb(8),o.uc("bsValue",e.init_date)("bsConfig",o.wc(9,A)),o.Jb(4),o.uc("bsValue",e.end_date)("bsConfig",o.wc(10,A)),o.Jb(38),o.uc("ngForOf",o.pc(51,6,e.lsOrderWork,e.txtfilter.value)))},directives:[l.r,l.k,l.c,l.q,l.i,m.b,m.a,n.n,n.m],pipes:[D,n.f,n.d],styles:[".table-options[_ngcontent-%COMP%]{display:inline;align-items:center}.mastertable[_ngcontent-%COMP%]{position:relative}.createbill[_ngcontent-%COMP%]{position:absolute;right:0;left:94%;top:0;transform:translate(50%,-50%)}.opc[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;width:100%;height:100%;justify-content:space-evenly}.opc[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{text-align:center;font-size:30px}.selectAllchecbox[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{margin-left:5px}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:inherit}.container__buttons[_ngcontent-%COMP%]{justify-content:center;align-items:center}.container__buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:125px;height:auto;margin-left:10px;margin-top:30px}.container__filter[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;margin-bottom:10px}.container__filter[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:10px 20px;width:250px}.tag-ending[_ngcontent-%COMP%]{display:flex;flex-direction:row;background-color:#469627;padding:8px 40px;color:#fff;border-radius:20px;width:150px;align-items:center;justify-content:center}"]}),t})();function L(t,e){if(1&t&&(o.bc(0,"tr"),o.bc(1,"td"),o.Mc(2),o.ac(),o.bc(3,"td"),o.Mc(4),o.ac(),o.Wb(5,"td"),o.bc(6,"td"),o.Mc(7),o.ac(),o.Wb(8,"td"),o.Wb(9,"td"),o.bc(10,"td"),o.Mc(11),o.nc(12,"date"),o.nc(13,"date"),o.ac(),o.bc(14,"td"),o.Mc(15),o.nc(16,"currency"),o.ac(),o.bc(17,"td"),o.bc(18,"span",11),o.Mc(19),o.ac(),o.ac(),o.ac()),2&t){const t=e.$implicit,c=e.index,n=o.mc();o.Jb(2),o.Nc(c+1),o.Jb(2),o.Nc(null!=t.bill_id?t.bill_code:""),o.Jb(3),o.Nc(t.name_client),o.Jb(4),o.Oc(" ",null!=t.bill_updateDate?o.pc(12,7,t.bill_updateDate,"yyyy/MM/dd"):o.pc(13,10,t.bill_registrationDate,"yyyy/MM/dd")," "),o.Jb(4),o.Nc(o.rc(16,13,t.bill_value,"USD","symbol","1.0-0")),o.Jb(3),o.uc("ngClass",n.getClass(t.bill_state.name)),o.Jb(1),o.Oc(" ",t.bill_state.name," ")}}const I=function(){return{dateInputFormat:"YYYY/MM/DD",containerClass:"theme-dark-blue"}};let B=(()=>{class t{constructor(t){this.BillService=t,this.isAllChecked=!1,this.selecttedBills=[],this.txtfilter=new l.j({code:new l.g(""),date_init:new l.g(""),txtCliente:new l.g(""),date_end:new l.g(""),txtState:new l.g(""),Concesionario:new l.g("")})}ngOnInit(){this.initComponents()}async initComponents(){await this.getDataTransactions()}async getDataTransactions(){try{this.BillService.getbills().subscribe(t=>{console.log(t),this.lsbill=t,this.lsbill=this.lsbill.filter(t=>"PAGADA"==t.BillStateDto.name),console.log("array de bills",this.lsbill)})}catch(t){console.warn(t)}}resetFilter(){this.txtfilter.reset()}getClass(t){return Object(s.a)(t)}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(g))},t.\u0275cmp=o.Pb({type:t,selectors:[["app-tbl-payregister"]],decls:47,vars:11,consts:[[1,"container__filter",3,"formGroup"],[1,"container__col"],["type","text","formControlName","code",1,"form-control"],["type","text","placeholder","fecha inicio ...","bsDatepicker","","formControlName","date_init","disabled","true",1,"form-control",3,"bsValue","bsConfig"],["type","text","placeholder","fecha fin ...","bsDatepicker","","formControlName","date_end","disabled","true",1,"form-control",3,"bsValue","bsConfig"],["type","text","formControlName","txtState",1,"form-control"],["type","text","formControlName","txtCliente",1,"form-control"],[1,"container__buttons"],[1,"btn","btn-info",3,"click"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(t,e){1&t&&(o.bc(0,"div",0),o.bc(1,"div",1),o.bc(2,"label"),o.Mc(3,"C\xf3digo Factura"),o.ac(),o.Wb(4,"input",2),o.ac(),o.bc(5,"div",1),o.bc(6,"label"),o.Mc(7,"Fecha inicio:"),o.ac(),o.Wb(8,"input",3),o.ac(),o.bc(9,"div",1),o.bc(10,"label"),o.Mc(11,"Fecha fin:"),o.ac(),o.Wb(12,"input",4),o.ac(),o.bc(13,"div",1),o.bc(14,"label"),o.Mc(15,"Estado"),o.ac(),o.Wb(16,"input",5),o.ac(),o.bc(17,"div",1),o.bc(18,"label"),o.Mc(19,"Cliente"),o.ac(),o.Wb(20,"input",6),o.ac(),o.bc(21,"div",7),o.bc(22,"button",8),o.ic("click",(function(){return e.resetFilter()})),o.Mc(23," Reset Filtros "),o.ac(),o.ac(),o.ac(),o.bc(24,"table",9),o.bc(25,"thead"),o.bc(26,"th"),o.Mc(27,"#"),o.ac(),o.bc(28,"th"),o.Mc(29,"C\xf3digo Fac Concesionario"),o.ac(),o.bc(30,"th"),o.Mc(31,"C\xf3digo Ord Trabajo"),o.ac(),o.bc(32,"th"),o.Mc(33,"Cliente"),o.ac(),o.bc(34,"th"),o.Mc(35,"Placa"),o.ac(),o.bc(36,"th"),o.Mc(37,"Concesionario"),o.ac(),o.bc(38,"th"),o.Mc(39,"Fecha Factura"),o.ac(),o.bc(40,"th"),o.Mc(41,"Valor Servicio"),o.ac(),o.bc(42,"th"),o.Mc(43,"Estado"),o.ac(),o.ac(),o.bc(44,"tbody"),o.Lc(45,L,20,18,"tr",10),o.nc(46,"tableFilterBill"),o.ac(),o.ac()),2&t&&(o.uc("formGroup",e.txtfilter),o.Jb(8),o.uc("bsValue",e.init_date)("bsConfig",o.wc(9,I)),o.Jb(4),o.uc("bsValue",e.end_date)("bsConfig",o.wc(10,I)),o.Jb(33),o.uc("ngForOf",o.pc(46,6,e.lsbill,e.txtfilter.value)))},directives:[l.r,l.k,l.c,l.q,l.i,m.b,m.a,n.n,n.m],pipes:[x,n.f,n.d],styles:[".container__filter[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;margin-bottom:10px}.container__filter[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:10px 20px;width:250px}.table-options[_ngcontent-%COMP%]{display:inline;align-items:center}.selectAllchecbox[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{margin-left:5px}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:inherit}.opc[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;width:100%;height:100%;justify-content:space-evenly}.tag-pending[_ngcontent-%COMP%]{background-color:#ff4f03;padding:8px 20px}.tag-ending[_ngcontent-%COMP%], .tag-pending[_ngcontent-%COMP%]{display:flex;flex-direction:row;color:#fff;border-radius:20px;width:150px;align-items:center;justify-content:center}.tag-ending[_ngcontent-%COMP%]{background-color:#469627;padding:8px 40px}"]}),t})();const W=[{path:"",component:a.a,children:[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Pb({type:t,selectors:[["app-payprovider"]],decls:10,vars:0,consts:[["id","container__content"],["mat-align-tabs","start"],["label","Resumen De Facturas"],[1,"resfactura"],["label","Asociaci\xf3n De Facturas"],[1,"ascfactura"],["label","Registro De Pago"]],template:function(t,e){1&t&&(o.bc(0,"div",0),o.bc(1,"mat-tab-group",1),o.bc(2,"mat-tab",2),o.bc(3,"div",3),o.Wb(4,"app-tbl-bill"),o.ac(),o.ac(),o.bc(5,"mat-tab",4),o.bc(6,"div",5),o.Wb(7,"app-tbl-payprovider"),o.ac(),o.ac(),o.bc(8,"mat-tab",6),o.Wb(9,"app-tbl-payregister"),o.ac(),o.ac(),o.ac())},directives:[r.b,r.a,y,S,B],styles:["#container__content[_ngcontent-%COMP%]{transition:margin-left 1s;padding:20px;margin-left:250px}.ascfactura[_ngcontent-%COMP%]{padding:20px}"]}),t})()}]}];let J=(()=>{class t{}return t.\u0275mod=o.Tb({type:t}),t.\u0275inj=o.Sb({factory:function(e){return new(e||t)},imports:[[i.f.forChild(W)],i.f]}),t})();var T=c("Z/wE");let V=(()=>{class t{}return t.\u0275mod=o.Tb({type:t}),t.\u0275inj=o.Sb({factory:function(e){return new(e||t)},imports:[[n.c,J,O.g,r.c,w.e,T.a,l.w,_.b,C.b,k.c,m.c.forRoot()]]}),t})()}}]);