!function(){function t(t,e,n,c,i,a,r){try{var o=t[a](r),l=o.value}catch(s){return void n(s)}o.done?e(l):Promise.resolve(l).then(c,i)}function e(e){return function(){var n=this,c=arguments;return new Promise((function(i,a){var r=e.apply(n,c);function o(e){t(r,i,a,o,l,"next",e)}function l(e){t(r,i,a,o,l,"throw",e)}o(void 0)}))}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var c=e[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}function i(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{tNPA:function(t,e,c){"use strict";c.d(e,"a",(function(){return r}));var a=c("fXoL"),r=function(){var t=function(){function t(){n(this,t),this.regexStr=/[0-9]/}return i(t,[{key:"onKeyPress",value:function(t){return new RegExp(this.regexStr).test(t.key)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=a.Qb({type:t,selectors:[["","appOnlyNumbers",""]],hostBindings:function(t,e){1&t&&a.ic("keypress",(function(t){return e.onKeyPress(t)}))}}),t}()},uswQ:function(t,e,c){"use strict";c.d(e,"a",(function(){return b}));var a=c("fXoL"),r=c("tyNb"),o=c("ofXK");function l(t,e){if(1&t&&(a.bc(0,"a",11),a.Mc(1),a.ac()),2&t){var n=e.$implicit;a.vc("id",n.moduleDescription),a.vc("routerLink",n.path),a.Jb(1),a.Nc(n.moduleName)}}var s,u,d=((u=function(){function t(e){n(this,t),this.router=e,this.showCloseMenu=new a.q,this.moduleFathers=[],this.loadApp()}return i(t,[{key:"ngOnInit",value:function(){this.initComponents()}},{key:"loadApp",value:function(){var t=this;this.session=JSON.parse(sessionStorage.getItem("sessionUser")),null==this.session&&this.router.navigate(["Login"]),this.session.group.modules.forEach((function(e){0==e.id_moduleF&&t.moduleFathers.push(e)}))}},{key:"initComponents",value:function(){this.containerMenu=document.querySelector("#container__menu")}}]),t}()).\u0275fac=function(t){return new(t||u)(a.Vb(r.b))},u.\u0275cmp=a.Pb({type:u,selectors:[["app-navigation"]],outputs:{showCloseMenu:"showCloseMenu"},decls:18,vars:2,consts:[["id","container__menu",1,"container__menu"],[1,"container__user"],[1,"container__user-img"],["src","assets/user.png","alt","user"],[1,"container__user-info"],[1,"container__user-info-title"],[1,"container__user-info-subtitle"],["routerLink","/Home","routerLinkActive","item-nav-active",1,"item-navigation"],["class","item-navigation","routerLinkActive","item-nav-active",3,"id","routerLink",4,"ngFor","ngForOf"],[1,"copyright_footer"],["href","https://www.sinapsistechnologies.com.co/","target","_blank"],["routerLinkActive","item-nav-active",1,"item-navigation",3,"id","routerLink"]],template:function(t,e){1&t&&(a.bc(0,"div",0),a.bc(1,"div"),a.bc(2,"div",1),a.bc(3,"div",2),a.Wb(4,"img",3),a.ac(),a.bc(5,"div",4),a.bc(6,"span",5),a.Mc(7,"Bienvenido"),a.ac(),a.bc(8,"span",6),a.Mc(9),a.ac(),a.ac(),a.ac(),a.Wb(10,"hr"),a.bc(11,"div"),a.bc(12,"a",7),a.Mc(13,"Inicio"),a.ac(),a.Lc(14,l,2,3,"a",8),a.ac(),a.ac(),a.bc(15,"div",9),a.bc(16,"a",10),a.Mc(17,"\xa9 2022 Sinapsis Technologies "),a.ac(),a.ac(),a.ac()),2&t&&(a.Jb(9),a.Nc(e.session.name),a.Jb(5),a.uc("ngForOf",e.moduleFathers))},directives:[r.e,r.d,o.n],styles:[".container__menu[_ngcontent-%COMP%]{height:100%;width:250px;position:fixed;z-index:10;top:0;left:0;background-color:#111;overflow-x:hidden;padding-top:70px;transition:1s;display:flex;flex-direction:column;justify-content:space-between}.container__menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:8px 8px 8px 32px;text-decoration:none;color:#818181;font-size:25px;display:block;transition:.3s}.container__menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#f1f1f1}.btnClose[_ngcontent-%COMP%]{position:absolute;top:0;right:25px;font-size:36px;margin-left:50px}#btnMenu[_ngcontent-%COMP%]{padding:2px 10px;margin-left:30px;margin-top:30px}.item-nav-active[_ngcontent-%COMP%]{background-color:#0f4c75!important;color:#f1f1f1!important}.container__user[_ngcontent-%COMP%]{display:grid;grid-template-columns:50px 200px;grid-row:200px;margin-bottom:30px;cursor:pointer}.container__user-img[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:#3282b8;width:50px;height:50px;border-radius:50%;margin-left:20px}.container__user-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#f1f1f1;margin-left:40px}.container__user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}.container__user-info-title[_ngcontent-%COMP%]{font-size:22px}.container__user-info-subtitle[_ngcontent-%COMP%]{font-size:18px;margin-top:-5px}.item-navigation[_ngcontent-%COMP%]{cursor:pointer;padding-top:10px;padding-bottom:10px}.copyright_footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-size:12px;text-align:center}"]}),u),b=((s=function(){function t(e){n(this,t),this.router=e}return i(t,[{key:"ngOnInit",value:function(){}},{key:"logout",value:function(){confirm("\xbfEst\xe1 seguro que desea cerrar sesi\xf3n?")&&(sessionStorage.removeItem("sessionUser"),this.router.navigate(["/Login"]))}}]),t}()).\u0275fac=function(t){return new(t||s)(a.Vb(r.b))},s.\u0275cmp=a.Pb({type:s,selectors:[["app-layout"]],decls:5,vars:0,consts:[[1,"upper_bar"],[3,"click"],["title","Cerrar sesi\xf3n",1,"fas","fa-sign-out-alt","icon"]],template:function(t,e){1&t&&(a.Wb(0,"app-navigation"),a.bc(1,"div",0),a.bc(2,"a",1),a.ic("click",(function(){return e.logout()})),a.Wb(3,"i",2),a.ac(),a.ac(),a.Wb(4,"router-outlet"))},directives:[d,r.g],styles:[".upper_bar[_ngcontent-%COMP%]{width:100%;height:50px;background-color:#0f4c75;display:flex;justify-content:flex-end}i[_ngcontent-%COMP%]{margin-top:10px;margin-right:20px;padding:10px}.icon[_ngcontent-%COMP%]{color:#fff}.icon[_ngcontent-%COMP%]:hover{color:#d3d3d3}"]}),s)},yrLp:function(t,c,a){"use strict";a.r(c),a.d(c,"PayproviderModule",(function(){return Z}));var r,o,l=a("ofXK"),s=a("tyNb"),u=a("uswQ"),d=a("fXoL"),b=a("wZkO"),f=a("3Pt+"),p=a("eeG/"),h=function t(){n(this,t)},g=function t(e){n(this,t),this.id=e},m=a("2Vo4"),v=a("AytR"),_=a("tk/3"),x=((r=function(){function t(e){n(this,t),this.http=e,this.reloadTable=new m.a(""),this.URL_API=v.a.apiUrl+"/Bill/",this.URL_API_BILLSTATE=v.a.apiUrl+"/BillState/"}return i(t,[{key:"getordersfinished",value:function(){return this.http.get(this.URL_API+"getAllOrderWorksToBill")}},{key:"getbills",value:function(){return this.http.get(this.URL_API+"Get")}},{key:"paybill",value:function(t){return this.http.post(this.URL_API+"PayBill",t)}},{key:"insertbill",value:function(t){return this.http.post(this.URL_API+"Insert",t)}},{key:"updatebill",value:function(t){return this.http.post(this.URL_API+"UpdateBill",t)}},{key:"deletebillbyID",value:function(t){return this.http.delete("".concat(this.URL_API,"delete?bill_id=").concat(t))}},{key:"getbillstate",value:function(){return this.http.get(this.URL_API_BILLSTATE+"Get")}},{key:"getbillstatebyid",value:function(t){return this.http.get(this.URL_API_BILLSTATE+"GetById?Tid="+t)}}]),t}()).\u0275fac=function(t){return new(t||r)(d.fc(_.a))},r.\u0275prov=d.Rb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),y=a("3LUQ"),C=a("hzby"),M=a("bTqV"),k=a("NFeN"),w=((o=function(){function t(){n(this,t)}return i(t,[{key:"transform",value:function(t,e){var n=this;return t&&e?t.filter((function(t){return n.applyFilter(t,e)})):t}},{key:"applyFilter",value:function(t,e){return!(e.code&&-1===t.bill_code.toLowerCase().indexOf(e.code.toLowerCase())||e.txtState&&-1===t.BillStateDto.name.toLowerCase().indexOf(e.txtCliente.toLowerCase())||e.txtCliente&&-1===t.name_client.toLowerCase().indexOf(e.txtConcesionario.toLowerCase()))}}]),t}()).\u0275fac=function(t){return new(t||o)},o.\u0275pipe=d.Ub({name:"tableFilterBill",type:o,pure:!0}),o);function O(t,e){if(1&t){var n=d.cc();d.bc(0,"tr"),d.bc(1,"td"),d.bc(2,"input",16),d.ic("click",(function(){d.Dc(n);var t=e.$implicit;return d.mc().checkBill(t)})),d.ac(),d.ac(),d.bc(3,"td"),d.Mc(4),d.ac(),d.bc(5,"td"),d.Mc(6),d.ac(),d.bc(7,"td"),d.Mc(8),d.ac(),d.bc(9,"td"),d.Mc(10),d.ac(),d.bc(11,"td"),d.Mc(12),d.ac(),d.bc(13,"td"),d.Mc(14),d.ac(),d.bc(15,"td"),d.Mc(16),d.nc(17,"date"),d.nc(18,"date"),d.ac(),d.bc(19,"td"),d.Mc(20),d.nc(21,"currency"),d.ac(),d.bc(22,"td"),d.bc(23,"span",17),d.Mc(24),d.ac(),d.ac(),d.bc(25,"td",18),d.bc(26,"div",19),d.bc(27,"i",20),d.ic("click",(function(){d.Dc(n);var t=e.$implicit;return d.mc().deletebill(t)})),d.ac(),d.ac(),d.ac(),d.ac()}if(2&t){var c=e.$implicit,i=e.index,a=d.mc();d.Jb(2),d.uc("checked",c.isChecked)("name",c.name_client)("id",c.bill_id),d.Jb(2),d.Nc(i+1),d.Jb(2),d.Nc(null!=c.bill_id?c.bill_code:""),d.Jb(2),d.Nc(c.Order_work.trx_code),d.Jb(2),d.Nc(c.Order_work.cli_name),d.Jb(2),d.Nc(c.Order_work.veh_licensePlate),d.Jb(2),d.Nc(c.Order_work.deal_name),d.Jb(2),d.Oc(" ",null!=c.bill_updateDate?d.pc(17,13,c.bill_updateDate,"yyyy/MM/dd"):d.pc(18,16,c.bill_registrationDate,"yyyy/MM/dd")," "),d.Jb(4),d.Nc(d.rc(21,19,c.bill_value,"USD","symbol","1.0-0")),d.Jb(3),d.uc("ngClass",a.getClass(c.bill_state.name)),d.Jb(1),d.Oc(" ",c.bill_state.name," ")}}var P,F,D,N=function(){return{dateInputFormat:"YYYY/MM/DD",containerClass:"theme-dark-blue"}},A=((P=function(){function t(e,c){n(this,t),this.BillService=e,this.alertService=c,this.lsbill=[],this.isAllChecked=!1,this.selecttedBills=[],this.txtfilter=new f.j({code:new f.g(""),date_init:new f.g(""),txtCliente:new f.g(""),date_end:new f.g(""),txtState:new f.g(""),Concesionario:new f.g("")})}var c,a,r,o;return i(t,[{key:"ngOnInit",value:function(){this.initComponents(),this.listenerObservable()}},{key:"initComponents",value:(o=e(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getDataTransactions();case 2:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"getDataTransactions",value:(r=e(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{this.BillService.getbills().subscribe((function(t){console.log(t),e.lsbill=t,console.log("array de bills",e.lsbill)}))}catch(n){console.warn(n)}case 1:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"getBillSelected",value:function(){var t=[];return this.lsbill.forEach((function(e){(null==e?void 0:e.isChecked)&&t.push(null==e?void 0:e.bill_id)})),console.log(t),t}},{key:"payBill",value:(a=e(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(e=new h).BILL_ID=this.getBillSelected(),e.STATE=new g(2);try{this.BillService.paybill(e).subscribe((function(){n.alertService.succes("Factura pagada"),n.getDataTransactions()}))}catch(c){console.warn(c)}case 3:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"deletebill",value:(c=e(regeneratorRuntime.mark((function t(n){var c=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.alertService.confirm("\xbfEst\xe1 seguro de eliminar la factura?",e(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.BillService.deletebillbyID(null==n?void 0:n.bill_id).subscribe((function(){c.alertService.succes("Factura eliminada correctamente"),c.getDataTransactions(),c.BillService.reloadTable.next("bill")}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.warn(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])}))));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)})},{key:"resetFilter",value:function(){this.txtfilter.reset()}},{key:"checkBill",value:function(t){t.isChecked=!t.isChecked,t.isChecked?this.selecttedBills.push(t):this.selecttedBills.splice(this.selecttedBills.indexOf(t),1)}},{key:"listenerObservable",value:function(){var t=this;this.BillService.reloadTable.subscribe((function(e){"payprovider"===e&&t.getDataTransactions()}))}},{key:"toogleAll",value:function(){var t=this;this.isAllChecked=!this.isAllChecked,this.lsbill.forEach((function(e){e.isChecked=t.isAllChecked}))}},{key:"getClass",value:function(t){return Object(p.a)(t)}}]),t}()).\u0275fac=function(t){return new(t||P)(d.Vb(x),d.Vb(y.a))},P.\u0275cmp=d.Pb({type:P,selectors:[["app-tbl-bill"]],decls:57,vars:11,consts:[[1,"container__filter",3,"formGroup"],[1,"container__col"],["type","text","formControlName","code",1,"form-control"],["type","text","placeholder","fecha inicio ...","bsDatepicker","","formControlName","date_init","disabled","true",1,"form-control",3,"bsConfig"],["type","text","placeholder","fecha fin ...","bsDatepicker","","formControlName","date_end","disabled","true",1,"form-control",3,"bsConfig"],["type","text","formControlName","txtState",1,"form-control"],["type","text","formControlName","txtCliente",1,"form-control"],[1,"container__buttons"],[1,"btn","btn-info",3,"click"],[1,"tableopc"],["mat-fab","",1,"btnAdd",3,"disabled","click"],[1,"table","table-striped"],[1,"selectAllchecbox"],["for","checkAll"],["type","checkbox","id","checkAll",3,"checked","click"],[4,"ngFor","ngForOf"],["type","checkbox",3,"checked","name","id","click"],[3,"ngClass"],[1,"table_options"],[1,"opc"],["title","M\xe1s informaci\xf3n",1,"fas","fa-times-circle","text-danger",3,"click"]],template:function(t,e){1&t&&(d.bc(0,"div",0),d.bc(1,"div",1),d.bc(2,"label"),d.Mc(3,"C\xf3digo Factura"),d.ac(),d.Wb(4,"input",2),d.ac(),d.bc(5,"div",1),d.bc(6,"label"),d.Mc(7,"Fecha inicio:"),d.ac(),d.Wb(8,"input",3),d.ac(),d.bc(9,"div",1),d.bc(10,"label"),d.Mc(11,"Fecha fin:"),d.ac(),d.Wb(12,"input",4),d.ac(),d.bc(13,"div",1),d.bc(14,"label"),d.Mc(15,"Estado"),d.ac(),d.Wb(16,"input",5),d.ac(),d.bc(17,"div",1),d.bc(18,"label"),d.Mc(19,"Cliente"),d.ac(),d.Wb(20,"input",6),d.ac(),d.bc(21,"div",7),d.bc(22,"button",8),d.ic("click",(function(){return e.resetFilter()})),d.Mc(23," Limpiar Filtros "),d.ac(),d.ac(),d.ac(),d.bc(24,"div",9),d.bc(25,"button",10),d.ic("click",(function(){return e.payBill()})),d.bc(26,"mat-icon"),d.Mc(27,"assignment"),d.ac(),d.ac(),d.bc(28,"table",11),d.bc(29,"thead"),d.bc(30,"th"),d.bc(31,"div",12),d.Wb(32,"label",13),d.bc(33,"input",14),d.ic("click",(function(){return e.toogleAll()})),d.ac(),d.ac(),d.ac(),d.bc(34,"th"),d.Mc(35,"#"),d.ac(),d.bc(36,"th"),d.Mc(37,"C\xf3digo Fac Concesionario"),d.ac(),d.bc(38,"th"),d.Mc(39,"C\xf3digo Ord Trabajo"),d.ac(),d.bc(40,"th"),d.Mc(41,"Cliente"),d.ac(),d.bc(42,"th"),d.Mc(43,"Placa"),d.ac(),d.bc(44,"th"),d.Mc(45,"Concesionario"),d.ac(),d.bc(46,"th"),d.Mc(47,"Fecha Factura"),d.ac(),d.bc(48,"th"),d.Mc(49,"Valor Servicio"),d.ac(),d.bc(50,"th"),d.Mc(51,"Estado"),d.ac(),d.bc(52,"th"),d.Mc(53,"Acciones"),d.ac(),d.ac(),d.bc(54,"tbody"),d.Lc(55,O,28,24,"tr",15),d.nc(56,"tableFilterBill"),d.ac(),d.ac(),d.ac()),2&t&&(d.uc("formGroup",e.txtfilter),d.Jb(8),d.uc("bsConfig",d.wc(9,N)),d.Jb(4),d.uc("bsConfig",d.wc(10,N)),d.Jb(13),d.uc("disabled",0===e.selecttedBills.length),d.Jb(8),d.uc("checked",e.isAllChecked),d.Jb(22),d.uc("ngForOf",d.pc(56,6,e.lsbill,e.txtfilter.value)))},directives:[f.r,f.k,f.c,f.q,f.i,C.b,C.a,M.a,k.a,l.n,l.m],pipes:[w,l.f,l.d],styles:[".container__filter[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;margin-bottom:10px}.container__filter[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:10px 20px;width:250px}.table-options[_ngcontent-%COMP%]{display:inline;align-items:center}.selectAllchecbox[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{margin-left:5px}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:inherit}.opc[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;width:100%;height:100%;justify-content:space-evenly}.tag-pending[_ngcontent-%COMP%]{background-color:#ff4f03;padding:8px 20px}.tag-ending[_ngcontent-%COMP%], .tag-pending[_ngcontent-%COMP%]{display:flex;flex-direction:row;color:#fff;border-radius:20px;width:150px;align-items:center;justify-content:center}.tag-ending[_ngcontent-%COMP%]{background-color:#469627;padding:8px 40px}"]}),P),S=a("0IaG"),L=a("kmnG"),I=a("qFsG"),B=a("tNPA"),W=((D=function(){function t(e,c,i,a){n(this,t),this.dialogRef=e,this.data=c,this.alertService=i,this.billService=a,this.txtForm=new f.j({state:new f.g(""),fecha:new f.g(""),code:new f.g(""),valuebeforeIva:new f.g(""),valueiva:new f.g(""),value:new f.g(""),codfac:new f.g(""),trx_id:new f.g("")}),this.disabled=!0}var c,a;return i(t,[{key:"ngOnInit",value:function(){this.initComponets()}},{key:"initComponets",value:function(){this.txtForm.setValue({state:this.data.state,fecha:this.data.fecha,code:this.data.code,valuebeforeIva:this.data.valuebeforeiva,valueiva:this.data.iva,value:this.data.value,codfac:this.data.codeFac,trx_id:this.data.trx_id})}},{key:"onNoClick",value:function(){this.dialogRef.close()}},{key:"registerFac",value:(a=e(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.alertService.confirm("\xbfEst\xe1 seguro de registrar la factura?",(function(){e.registerBill(),e.dialogRef.close()}));case 1:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"registerBill",value:(c=e(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(e=new h).STATE=new g(1),e.CODE=this.txtForm.value.codfac,e.trx_id=this.txtForm.value.trx_id,e.value=this.txtForm.value.value,console.log(e),this.billService.insertbill(e).subscribe((function(t){n.alertService.succes("Factura registrada correctamente")}));case 2:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})}]),t}()).\u0275fac=function(t){return new(t||D)(d.Vb(S.h),d.Vb(S.a),d.Vb(y.a),d.Vb(x))},D.\u0275cmp=d.Pb({type:D,selectors:[["app-modal-bill"]],decls:44,vars:1,consts:[["mat-dialog-content",""],[1,"formdata",3,"formGroup"],["appearance","outline"],[1,"formdata__fac"],["readonly","","formControlName","state","matInput","","placeholder","Estado de la factura","for",""],["readonly","","matInput","","placeholder","Fecha Factura","for","","formControlName","fecha"],["readonly","","matInput","","placeholder","Codigo Factura","for","","formControlName","code"],["readonly","","appOnlyNumbers","","matInput","","placeholder","Valor Antes De Iva","for","","formControlName","valuebeforeIva"],["readonly","","appOnlyNumbers","","matInput","","placeholder","Iva","for","","formControlName","valueiva"],["readonly","","appOnlyNumbers","","matInput","","placeholder","Valor Total","for","","formControlName","value"],["appearance","outline","color","accent"],["matInput","","placeholder","Ingrese El Codigo Factura","for","","formControlName","codfac"],["mat-dialog-actions",""],["mat-raised-button","",1,"cancelBtn",3,"click"],["mat-raised-button","",1,"registerBtn",3,"click"]],template:function(t,e){1&t&&(d.bc(0,"h3"),d.Mc(1,"RESUMEN ORDEN"),d.ac(),d.bc(2,"div",0),d.bc(3,"div",1),d.bc(4,"mat-form-field",2),d.bc(5,"mat-label"),d.Mc(6,"Estado Factura"),d.ac(),d.bc(7,"div",3),d.Wb(8,"input",4),d.ac(),d.ac(),d.bc(9,"mat-form-field",2),d.bc(10,"mat-label"),d.Mc(11,"Fecha Orden De Trabajo"),d.ac(),d.bc(12,"div",3),d.Wb(13,"input",5),d.ac(),d.ac(),d.bc(14,"mat-form-field",2),d.bc(15,"mat-label"),d.Mc(16,"Codigo Orden De Trabajo"),d.ac(),d.bc(17,"div",3),d.Wb(18,"input",6),d.ac(),d.ac(),d.bc(19,"mat-form-field",2),d.bc(20,"mat-label"),d.Mc(21,"Valor Antes De IVA"),d.ac(),d.bc(22,"div",3),d.Wb(23,"input",7),d.ac(),d.ac(),d.bc(24,"mat-form-field",2),d.bc(25,"mat-label"),d.Mc(26,"Valor Iva"),d.ac(),d.bc(27,"div",3),d.Wb(28,"input",8),d.ac(),d.ac(),d.bc(29,"mat-form-field",2),d.bc(30,"mat-label"),d.Mc(31,"Valor Total"),d.ac(),d.bc(32,"div",3),d.Wb(33,"input",9),d.ac(),d.ac(),d.bc(34,"mat-form-field",10),d.bc(35,"mat-label"),d.Mc(36,"Codigo Factura"),d.ac(),d.bc(37,"div",3),d.Wb(38,"input",11),d.ac(),d.ac(),d.ac(),d.ac(),d.bc(39,"div",12),d.bc(40,"button",13),d.ic("click",(function(){return e.onNoClick()})),d.Mc(41," Cancelar"),d.ac(),d.bc(42,"button",14),d.ic("click",(function(){return e.registerFac()})),d.Mc(43," Asociar Factura"),d.ac(),d.ac()),2&t&&(d.Jb(3),d.uc("formGroup",e.txtForm))},directives:[S.f,f.r,f.k,L.c,L.f,f.c,I.b,f.q,f.i,B.a,S.c,M.a],styles:[".formdata[_ngcontent-%COMP%]{display:flex;flex-direction:column}.cancelBtn[_ngcontent-%COMP%]{background-color:#6c757d}.registerBtn[_ngcontent-%COMP%]{background-color:#28a745}"]}),D),J=((F=function(){function t(){n(this,t)}return i(t,[{key:"transform",value:function(t,e){var n=this;return t&&e?t.filter((function(t){return n.applyFilter(t,e)})):t}},{key:"applyFilter",value:function(t,e){return!(e.code&&-1===t.trx_code.toLowerCase().indexOf(e.code.toLowerCase())||e.txtCliente&&-1===t.cli_name.toLowerCase().indexOf(e.txtCliente.toLowerCase())||e.txtConcesionario&&-1===t.deal_name.toLowerCase().indexOf(e.txtConcesionario.toLowerCase())||e.txtPlaca&&-1===t.veh_licensePlate.toLowerCase().indexOf(e.txtPlaca.toLowerCase()))}}]),t}()).\u0275fac=function(t){return new(t||F)},F.\u0275pipe=d.Ub({name:"tableFilter",type:F,pure:!0}),F);function R(t,e){if(1&t){var n=d.cc();d.bc(0,"tr"),d.bc(1,"td"),d.Mc(2),d.ac(),d.bc(3,"td"),d.Mc(4),d.ac(),d.bc(5,"td"),d.Mc(6),d.ac(),d.bc(7,"td"),d.Mc(8),d.ac(),d.bc(9,"td"),d.Mc(10),d.ac(),d.bc(11,"td"),d.Mc(12),d.nc(13,"date"),d.nc(14,"date"),d.ac(),d.bc(15,"td"),d.Mc(16),d.nc(17,"currency"),d.ac(),d.bc(18,"td"),d.bc(19,"span",13),d.Mc(20),d.ac(),d.ac(),d.bc(21,"td",14),d.bc(22,"div",15),d.bc(23,"i",16),d.ic("click",(function(){d.Dc(n);var t=e.$implicit;return d.mc().openDialog(t)})),d.ac(),d.ac(),d.ac(),d.ac()}if(2&t){var c=e.$implicit,i=e.index,a=d.mc();d.Jb(2),d.Nc(i+1),d.Jb(2),d.Nc(null!=c.trx_code?c.trx_code:""),d.Jb(2),d.Nc(c.cli_name),d.Jb(2),d.Nc(c.veh_licensePlate),d.Jb(2),d.Nc(c.deal_name),d.Jb(2),d.Oc(" ",null!=c.trx_updateDate?d.pc(13,9,c.trx_updateDate,"yyyy/MM/dd"):d.pc(14,12,c.trx_registrationDate,"yyyy/MM/dd")," "),d.Jb(4),d.Nc(d.rc(17,15,c.trx_value,"USD","symbol","1.0-0")),d.Jb(3),d.uc("ngClass",a.getClass(c.order_state.name)),d.Jb(1),d.Oc(" ",c.order_state.name," ")}}var T,V=function(){return{dateInputFormat:"YYYY/MM/DD",containerClass:"theme-dark-blue"}},E=((T=function(){function t(e,c,i){n(this,t),this.BillService=e,this.alertService=c,this.dialog=i,this.isAllChecked=!1,this.selectedOrderWorks=[],this.txtfilter=new f.j({code:new f.g(""),txtdate_init:new f.g(""),txtdate_end:new f.g(""),txtCliente:new f.g(""),txtConcesionario:new f.g(""),txtPlaca:new f.g("")})}var c,a;return i(t,[{key:"ngOnInit",value:function(){this.initComponents(),this.listenerObservable()}},{key:"initComponents",value:(a=e(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getDataTransactions();case 2:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"resetFilter",value:function(){this.txtfilter.reset()}},{key:"toogleAll",value:function(){var t=this;this.isAllChecked=!this.isAllChecked,this.lsOrderWork.forEach((function(e){e.isChecked=t.isAllChecked}))}},{key:"checkWorkOrder",value:function(t){t.isChecked=!t.isChecked,t.isChecked?this.selectedOrderWorks.push(t):this.selectedOrderWorks.splice(this.selectedOrderWorks.indexOf(t),1)}},{key:"getDataTransactions",value:(c=e(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{this.BillService.getordersfinished().subscribe((function(t){e.lsOrderWork=t,e.lsOrderWork=e.lsOrderWork.filter((function(t){return 1!=t.trx_bill_status}))}))}catch(n){console.warn(n)}case 1:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"getClass",value:function(t){return Object(p.a)(t)}},{key:"listenerObservable",value:function(){var t=this;this.BillService.reloadTable.subscribe((function(e){"bill"===e&&t.getDataTransactions()}))}},{key:"transformDate",value:function(t){var e=new Date(t);return e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()}},{key:"openDialog",value:function(t){var e=this,n={state:null==t?void 0:t.order_state.name,fecha:this.transformDate(null!=(null==t?void 0:t.trx_updateDate)?null==t?void 0:t.trx_updateDate:null==t?void 0:t.trx_registrationDate),code:null==t?void 0:t.trx_code,valuebeforeiva:null==t?void 0:t.beforeiva,iva:null==t?void 0:t.iva,value:null==t?void 0:t.trx_value,codeFac:"",trx_id:null==t?void 0:t.trx_id};this.dialog.open(W,{width:"600px",height:"700px",data:n}).afterClosed().subscribe((function(t){e.getDataTransactions(),e.BillService.reloadTable.next("payprovider")}))}}]),t}()).\u0275fac=function(t){return new(t||T)(d.Vb(x),d.Vb(y.a),d.Vb(S.b))},T.\u0275cmp=d.Pb({type:T,selectors:[["app-tbl-payprovider"]],decls:52,vars:11,consts:[[1,"container__filter",3,"formGroup"],[1,"container__col"],["type","text","formControlName","code",1,"form-control"],["type","text","placeholder","fecha inicio ...","bsDatepicker","","formControlName","txtdate_init","disabled","true",1,"form-control",3,"bsValue","bsConfig"],["type","text","placeholder","fecha fin ...","bsDatepicker","","formControlName","txtdate_end","disabled","true",1,"form-control",3,"bsValue","bsConfig"],["type","text","formControlName","txtCliente",1,"form-control"],["type","text","formControlName","txtConcesionario",1,"form-control"],["type","text","formControlName","txtPlaca",1,"form-control"],[1,"container__buttons"],[1,"btn","btn-info",3,"click"],[1,"mastertable"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[3,"ngClass"],[1,"table_options"],[1,"opc"],["title","M\xe1s informaci\xf3n",1,"fas","fa-solid","fa-registered",3,"click"]],template:function(t,e){1&t&&(d.bc(0,"div",0),d.bc(1,"div",1),d.bc(2,"label"),d.Mc(3,"C\xf3digo"),d.ac(),d.Wb(4,"input",2),d.ac(),d.bc(5,"div",1),d.bc(6,"label"),d.Mc(7,"Fecha inicio:"),d.ac(),d.Wb(8,"input",3),d.ac(),d.bc(9,"div",1),d.bc(10,"label"),d.Mc(11,"Fecha fin:"),d.ac(),d.Wb(12,"input",4),d.ac(),d.bc(13,"div",1),d.bc(14,"label"),d.Mc(15,"Cliente"),d.ac(),d.Wb(16,"input",5),d.ac(),d.bc(17,"div",1),d.bc(18,"label"),d.Mc(19,"Concesionario"),d.ac(),d.Wb(20,"input",6),d.ac(),d.bc(21,"div",1),d.bc(22,"label"),d.Mc(23,"Placa"),d.ac(),d.Wb(24,"input",7),d.ac(),d.bc(25,"div",8),d.bc(26,"button",9),d.ic("click",(function(){return e.resetFilter()})),d.Mc(27," Reset Filtros "),d.ac(),d.ac(),d.ac(),d.bc(28,"div",10),d.bc(29,"table",11),d.bc(30,"thead"),d.bc(31,"th"),d.Mc(32,"#"),d.ac(),d.bc(33,"th"),d.Mc(34,"C\xf3digo"),d.ac(),d.bc(35,"th"),d.Mc(36,"Cliente"),d.ac(),d.bc(37,"th"),d.Mc(38,"Placa"),d.ac(),d.bc(39,"th"),d.Mc(40,"Concesionario"),d.ac(),d.bc(41,"th"),d.Mc(42,"Fecha"),d.ac(),d.bc(43,"th"),d.Mc(44,"Valor Servicio"),d.ac(),d.bc(45,"th"),d.Mc(46,"Estado"),d.ac(),d.bc(47,"th"),d.Mc(48,"Acciones "),d.ac(),d.ac(),d.bc(49,"tbody"),d.Lc(50,R,24,20,"tr",12),d.nc(51,"tableFilter"),d.ac(),d.ac(),d.ac()),2&t&&(d.uc("formGroup",e.txtfilter),d.Jb(8),d.uc("bsValue",e.init_date)("bsConfig",d.wc(9,V)),d.Jb(4),d.uc("bsValue",e.end_date)("bsConfig",d.wc(10,V)),d.Jb(38),d.uc("ngForOf",d.pc(51,6,e.lsOrderWork,e.txtfilter.value)))},directives:[f.r,f.k,f.c,f.q,f.i,C.b,C.a,l.n,l.m],pipes:[J,l.f,l.d],styles:[".table-options[_ngcontent-%COMP%]{display:inline;align-items:center}.mastertable[_ngcontent-%COMP%]{position:relative}.createbill[_ngcontent-%COMP%]{position:absolute;right:0;left:94%;top:0;transform:translate(50%,-50%)}.opc[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;width:100%;height:100%;justify-content:space-evenly}.opc[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{text-align:center;font-size:30px}.selectAllchecbox[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{margin-left:5px}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:inherit}.container__buttons[_ngcontent-%COMP%]{justify-content:center;align-items:center}.container__buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:125px;height:auto;margin-left:10px;margin-top:30px}.container__filter[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;margin-bottom:10px}.container__filter[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:10px 20px;width:250px}.tag-ending[_ngcontent-%COMP%]{display:flex;flex-direction:row;background-color:#469627;padding:8px 40px;color:#fff;border-radius:20px;width:150px;align-items:center;justify-content:center}"]}),T);function j(t,e){if(1&t&&(d.bc(0,"tr"),d.bc(1,"td"),d.Mc(2),d.ac(),d.bc(3,"td"),d.Mc(4),d.ac(),d.Wb(5,"td"),d.bc(6,"td"),d.Mc(7),d.ac(),d.Wb(8,"td"),d.Wb(9,"td"),d.bc(10,"td"),d.Mc(11),d.nc(12,"date"),d.nc(13,"date"),d.ac(),d.bc(14,"td"),d.Mc(15),d.nc(16,"currency"),d.ac(),d.bc(17,"td"),d.bc(18,"span",11),d.Mc(19),d.ac(),d.ac(),d.ac()),2&t){var n=e.$implicit,c=e.index,i=d.mc();d.Jb(2),d.Nc(c+1),d.Jb(2),d.Nc(null!=n.bill_id?n.bill_code:""),d.Jb(3),d.Nc(n.name_client),d.Jb(4),d.Oc(" ",null!=n.bill_updateDate?d.pc(12,7,n.bill_updateDate,"yyyy/MM/dd"):d.pc(13,10,n.bill_registrationDate,"yyyy/MM/dd")," "),d.Jb(4),d.Nc(d.rc(16,13,n.bill_value,"USD","symbol","1.0-0")),d.Jb(3),d.uc("ngClass",i.getClass(n.bill_state.name)),d.Jb(1),d.Oc(" ",n.bill_state.name," ")}}var U,G,Y,q,z=function(){return{dateInputFormat:"YYYY/MM/DD",containerClass:"theme-dark-blue"}},$=((U=function(){function t(e){n(this,t),this.BillService=e,this.isAllChecked=!1,this.selecttedBills=[],this.txtfilter=new f.j({code:new f.g(""),date_init:new f.g(""),txtCliente:new f.g(""),date_end:new f.g(""),txtState:new f.g(""),Concesionario:new f.g("")})}var c,a;return i(t,[{key:"ngOnInit",value:function(){this.initComponents()}},{key:"initComponents",value:(a=e(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getDataTransactions();case 2:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"getDataTransactions",value:(c=e(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{this.BillService.getbills().subscribe((function(t){console.log(t),e.lsbill=t,e.lsbill=e.lsbill.filter((function(t){return"PAGADA"==t.BillStateDto.name})),console.log("array de bills",e.lsbill)}))}catch(n){console.warn(n)}case 1:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"resetFilter",value:function(){this.txtfilter.reset()}},{key:"getClass",value:function(t){return Object(p.a)(t)}}]),t}()).\u0275fac=function(t){return new(t||U)(d.Vb(x))},U.\u0275cmp=d.Pb({type:U,selectors:[["app-tbl-payregister"]],decls:47,vars:11,consts:[[1,"container__filter",3,"formGroup"],[1,"container__col"],["type","text","formControlName","code",1,"form-control"],["type","text","placeholder","fecha inicio ...","bsDatepicker","","formControlName","date_init","disabled","true",1,"form-control",3,"bsValue","bsConfig"],["type","text","placeholder","fecha fin ...","bsDatepicker","","formControlName","date_end","disabled","true",1,"form-control",3,"bsValue","bsConfig"],["type","text","formControlName","txtState",1,"form-control"],["type","text","formControlName","txtCliente",1,"form-control"],[1,"container__buttons"],[1,"btn","btn-info",3,"click"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(t,e){1&t&&(d.bc(0,"div",0),d.bc(1,"div",1),d.bc(2,"label"),d.Mc(3,"C\xf3digo Factura"),d.ac(),d.Wb(4,"input",2),d.ac(),d.bc(5,"div",1),d.bc(6,"label"),d.Mc(7,"Fecha inicio:"),d.ac(),d.Wb(8,"input",3),d.ac(),d.bc(9,"div",1),d.bc(10,"label"),d.Mc(11,"Fecha fin:"),d.ac(),d.Wb(12,"input",4),d.ac(),d.bc(13,"div",1),d.bc(14,"label"),d.Mc(15,"Estado"),d.ac(),d.Wb(16,"input",5),d.ac(),d.bc(17,"div",1),d.bc(18,"label"),d.Mc(19,"Cliente"),d.ac(),d.Wb(20,"input",6),d.ac(),d.bc(21,"div",7),d.bc(22,"button",8),d.ic("click",(function(){return e.resetFilter()})),d.Mc(23," Reset Filtros "),d.ac(),d.ac(),d.ac(),d.bc(24,"table",9),d.bc(25,"thead"),d.bc(26,"th"),d.Mc(27,"#"),d.ac(),d.bc(28,"th"),d.Mc(29,"C\xf3digo Fac Concesionario"),d.ac(),d.bc(30,"th"),d.Mc(31,"C\xf3digo Ord Trabajo"),d.ac(),d.bc(32,"th"),d.Mc(33,"Cliente"),d.ac(),d.bc(34,"th"),d.Mc(35,"Placa"),d.ac(),d.bc(36,"th"),d.Mc(37,"Concesionario"),d.ac(),d.bc(38,"th"),d.Mc(39,"Fecha Factura"),d.ac(),d.bc(40,"th"),d.Mc(41,"Valor Servicio"),d.ac(),d.bc(42,"th"),d.Mc(43,"Estado"),d.ac(),d.ac(),d.bc(44,"tbody"),d.Lc(45,j,20,18,"tr",10),d.nc(46,"tableFilterBill"),d.ac(),d.ac()),2&t&&(d.uc("formGroup",e.txtfilter),d.Jb(8),d.uc("bsValue",e.init_date)("bsConfig",d.wc(9,z)),d.Jb(4),d.uc("bsValue",e.end_date)("bsConfig",d.wc(10,z)),d.Jb(33),d.uc("ngForOf",d.pc(46,6,e.lsbill,e.txtfilter.value)))},directives:[f.r,f.k,f.c,f.q,f.i,C.b,C.a,l.n,l.m],pipes:[w,l.f,l.d],styles:[".container__filter[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;margin-bottom:10px}.container__filter[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:10px 20px;width:250px}.table-options[_ngcontent-%COMP%]{display:inline;align-items:center}.selectAllchecbox[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{margin-left:5px}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:inherit}.opc[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;width:100%;height:100%;justify-content:space-evenly}.tag-pending[_ngcontent-%COMP%]{background-color:#ff4f03;padding:8px 20px}.tag-ending[_ngcontent-%COMP%], .tag-pending[_ngcontent-%COMP%]{display:flex;flex-direction:row;color:#fff;border-radius:20px;width:150px;align-items:center;justify-content:center}.tag-ending[_ngcontent-%COMP%]{background-color:#469627;padding:8px 40px}"]}),U),X=[{path:"",component:u.a,children:[{path:"",component:(G=function(){function t(){n(this,t)}return i(t,[{key:"ngOnInit",value:function(){}}]),t}(),G.\u0275fac=function(t){return new(t||G)},G.\u0275cmp=d.Pb({type:G,selectors:[["app-payprovider"]],decls:10,vars:0,consts:[["id","container__content"],["mat-align-tabs","start"],["label","Resumen De Facturas"],[1,"resfactura"],["label","Asociaci\xf3n De Facturas"],[1,"ascfactura"],["label","Registro De Pago"]],template:function(t,e){1&t&&(d.bc(0,"div",0),d.bc(1,"mat-tab-group",1),d.bc(2,"mat-tab",2),d.bc(3,"div",3),d.Wb(4,"app-tbl-bill"),d.ac(),d.ac(),d.bc(5,"mat-tab",4),d.bc(6,"div",5),d.Wb(7,"app-tbl-payprovider"),d.ac(),d.ac(),d.bc(8,"mat-tab",6),d.Wb(9,"app-tbl-payregister"),d.ac(),d.ac(),d.ac())},directives:[b.b,b.a,A,E,$],styles:["#container__content[_ngcontent-%COMP%]{transition:margin-left 1s;padding:20px;margin-left:250px}.ascfactura[_ngcontent-%COMP%]{padding:20px}"]}),G)}]}],K=((Y=function t(){n(this,t)}).\u0275mod=d.Tb({type:Y}),Y.\u0275inj=d.Sb({factory:function(t){return new(t||Y)},imports:[[s.f.forChild(X)],s.f]}),Y),Q=a("Z/wE"),Z=((q=function t(){n(this,t)}).\u0275mod=d.Tb({type:q}),q.\u0275inj=d.Sb({factory:function(t){return new(t||q)},imports:[[l.c,K,S.g,b.c,L.e,Q.a,f.w,M.b,k.b,I.c,C.c.forRoot()]]}),q)}}])}();