!function(){function t(t,n){var c;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(c=function(t,n){if(!t)return;if("string"==typeof t)return e(t,n);var c=Object.prototype.toString.call(t).slice(8,-1);"Object"===c&&t.constructor&&(c=t.constructor.name);if("Map"===c||"Set"===c)return Array.from(t);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return e(t,n)}(t))||n&&t&&"number"==typeof t.length){c&&(t=c);var a=0,o=function(){};return{s:o,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,u=!1;return{s:function(){c=t[Symbol.iterator]()},n:function(){var t=c.next();return r=t.done,t},e:function(t){u=!0,i=t},f:function(){try{r||null==c.return||c.return()}finally{if(u)throw i}}}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,c=new Array(e);n<e;n++)c[n]=t[n];return c}function n(t,e,n,c,a,o,i){try{var r=t[o](i),u=r.value}catch(l){return void n(l)}r.done?e(u):Promise.resolve(u).then(c,a)}function c(t){return function(){var e=this,c=arguments;return new Promise((function(a,o){var i=t.apply(e,c);function r(t){n(i,a,o,r,u,"next",t)}function u(t){n(i,a,o,r,u,"throw",t)}r(void 0)}))}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var c=e[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{vC2C:function(e,n,i){"use strict";i.r(n),i.d(n,"QuotaManagementModule",(function(){return L}));var r=i("ofXK"),u=i("3Pt+"),l=i("Z/wE"),s=i("tyNb"),d=i("uswQ"),b=i("jvTp"),p=i("KBdt"),f=i("KyVN"),m=i("R7St"),v=i("7I7t"),h=i("p9j/"),g=i("PSD3"),_=i.n(g),y=i("QgiH"),C=i("fXoL"),Q=i("9w/y"),M=i("aouF"),x=i("a9jy"),w=i("3LUQ"),k=i("xpiC"),O=i("3+Ze"),A=i("9Wwi");function P(t,e){if(1&t){var n=C.cc();C.bc(0,"tr"),C.bc(1,"td"),C.Mc(2),C.ac(),C.bc(3,"td"),C.Mc(4),C.nc(5,"titlecase"),C.ac(),C.bc(6,"td"),C.Mc(7),C.nc(8,"currency"),C.ac(),C.bc(9,"td"),C.Mc(10),C.nc(11,"currency"),C.ac(),C.bc(12,"td"),C.Mc(13),C.nc(14,"currency"),C.ac(),C.bc(15,"td"),C.Mc(16),C.nc(17,"currency"),C.ac(),C.bc(18,"td"),C.Wb(19,"i",62),C.bc(20,"i",63),C.ic("click",(function(){C.Dc(n);var t=e.$implicit,c=C.mc();return c.openPopUp("container__addQuota"),c.setClientInformation("container__addQuota",t.client)})),C.ac(),C.bc(21,"i",64),C.ic("click",(function(){C.Dc(n);var t=e.$implicit,c=C.mc();return c.openPopUp("container__freeUpQuota"),c.setClientInformation("container__freeUpQuota",t.client)})),C.ac(),C.bc(22,"i",65),C.ic("click",(function(){C.Dc(n);var t=e.$implicit,c=C.mc();return c.openPopUp("container__cancelQuota"),c.setClientInformation("container__cancelQuota",t.client)})),C.ac(),C.ac(),C.ac()}if(2&t){var c=e.index,a=e.$implicit;C.Jb(2),C.Nc(c+1),C.Jb(2),C.Nc(C.oc(5,6,a.client.name)),C.Jb(3),C.Oc(" ",C.rc(8,8,a.approvedQuota,"USD","symbol","1.0-0")," "),C.Jb(3),C.Oc(" ",C.rc(11,13,a.currentQuota,"USD","symbol","1.0-0")," "),C.Jb(3),C.Oc(" ",C.rc(14,18,a.consumedQuota,"USD","symbol","1.0-0")," "),C.Jb(3),C.Oc(" ",C.rc(17,23,a.inTransitQuota,"USD","symbol","1.0-0")," ")}}function T(t,e){if(1&t){var n=C.cc();C.bc(0,"tr"),C.bc(1,"th",18),C.Mc(2),C.ac(),C.bc(3,"td"),C.Mc(4),C.ac(),C.bc(5,"td"),C.Mc(6),C.nc(7,"titlecase"),C.ac(),C.bc(8,"td",19),C.Mc(9),C.ac(),C.bc(10,"td",19),C.Mc(11),C.ac(),C.bc(12,"td",19),C.Mc(13),C.ac(),C.bc(14,"td"),C.bc(15,"i",66),C.ic("click",(function(){C.Dc(n);var t=e.$implicit,c=C.mc();return c.openPopUp("container__QuotaManager"),c.setClientInformation("container__QuotaManager",t)})),C.ac(),C.ac(),C.ac()}if(2&t){var c=e.index,a=e.$implicit;C.Jb(2),C.Nc(c+1),C.Jb(2),C.Nc(a.document),C.Jb(2),C.Nc(C.oc(7,6,a.name)),C.Jb(3),C.Nc(a.phone),C.Jb(2),C.Nc(a.cellphone),C.Jb(2),C.Nc(a.address)}}function U(t,e){if(1&t){var n=C.cc();C.bc(0,"tr"),C.bc(1,"td"),C.Mc(2),C.ac(),C.bc(3,"td"),C.Mc(4),C.ac(),C.bc(5,"td"),C.Mc(6),C.nc(7,"titlecase"),C.ac(),C.bc(8,"td"),C.Mc(9),C.nc(10,"titlecase"),C.ac(),C.bc(11,"td"),C.Mc(12),C.nc(13,"currency"),C.ac(),C.bc(14,"td"),C.Mc(15),C.ac(),C.bc(16,"td"),C.Mc(17),C.nc(18,"titlecase"),C.ac(),C.bc(19,"td"),C.bc(20,"i",67),C.ic("click",(function(){C.Dc(n);var t=e.$implicit,c=C.mc();return c.setTransaction(t),c.openPopUp("container__resume")})),C.ac(),C.Wb(21,"i",68),C.ac(),C.ac()}if(2&t){var c=e.index,a=e.$implicit,o=C.mc();C.Jb(2),C.Nc(c+1),C.Jb(2),C.Nc(null!=a.code?a.code:a.consecutive),C.Jb(2),C.Nc(C.oc(7,7,a.movement.name)),C.Jb(3),C.Nc(C.oc(10,9,a.client.name)),C.Jb(3),C.Nc(C.rc(13,11,a.value,"USD","symbol","1.0-0")),C.Jb(3),C.Nc(o.getStringHour(a.registrationDate)),C.Jb(2),C.Nc(C.oc(18,16,a.user.name+" "+a.user.lastName))}}function S(t,e){1&t&&(C.bc(0,"div",69),C.Mc(1," ** No se puede asociar un cupo hasta que no se diligencie la informaci\xf3n contractual del cliente. ** "),C.ac())}function W(t,e){1&t&&C.Wb(0,"app-img-loading")}var N,F,E,I=[{path:"",component:d.a,children:[{path:"",component:(N=function(){function e(t,n,c,o,i){var r=this;a(this,e),this.quotaService=t,this.movementService=n,this.trxService=c,this.currency=o,this.alertService=i,this.lsClientsWithoutQuota=[],this.lsClientsWithQuota=[],this.lsTodayTransactions=[],this.lsTodayTransactionsFilter=[],this.lsMovements=[],this.txtFilter=new u.g,this.CREACION_DE_CUPO=1,this.ADICION_DE_CUPO=2,this.CANCELACION_DE_CUPO=3,this.LIBERACION_DE_CUPO=7,this.contractualInformationSelected=null,this.txtFilter.valueChanges.subscribe((function(t){var e;e=t,console.log("soy",t),r.lsTodayTransactionsFilter=r.lsTodayTransactions.filter((function(t){return t.client.name.toLocaleUpperCase().match(e.toLocaleUpperCase())}))})),this.frmApprovedQuota=new u.j({txtApprovedQuotaClient:new u.g(""),txtApprovedQuota:new u.g("",[u.z.required]),txtApprovedQuotaObservation:new u.g("")}),this.frmFreeUpQuota=new u.j({txtFreeUpQuotaClient:new u.g(""),txtFreeUpQuota:new u.g(""),txtFreeUpQuotaObservation:new u.g("")}),this.frmAddQuota=new u.j({txtAddQuotaClient:new u.g(""),txtAddQuota:new u.g(""),txtAddQuotaObservation:new u.g("")}),this.frmCancelQuota=new u.j({txtCancelQuotaClient:new u.g(""),txtCancelQuotaObservation:new u.g("")}),this.transactionSelected=new p.a,this.transactionSelected.consecutive=0,this.transactionSelected.code=null,this.transactionSelected.movement=new b.a,this.trx_id=0}var n,i,r,l,s,d,g;return n=e,(i=[{key:"ngOnInit",value:function(){this.initComponents()}},{key:"initComponents",value:function(){this.sharedFunction=new m.a,this.isAwaiting=!0,this.lsClientsWithoutQuota=[],this.getLsClientsWithoutQuota(),this.getLsClientsWithQuota(),this.getTodayTransactions(),this.getLsMovements(),this.isAwaiting=!1}},{key:"cleanFilter",value:function(){this.txtFilter.setValue(""),this.lsTodayTransactionsFilter=this.lsTodayTransactions}},{key:"getLsClientsWithoutQuota",value:function(){var t=this;this.quotaService.getClientsWithoutQuota().subscribe((function(e){t.lsClientsWithoutQuota=e}))}},{key:"getLsClientsWithQuota",value:(g=c(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.quotaService.getClientsWithQuota();case 3:this.lsClientsWithQuota=t.sent,setTimeout((function(){e.formatQuantities(e.lsClientsWithQuota)}),500),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.warn(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])}))),function(){return g.apply(this,arguments)})},{key:"getTodayTransactions",value:(d=c(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.trxService.getTodayTransactions();case 3:this.lsTodayTransactions=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.warn(t.t0);case 9:case"end":return t.stop()}}),t,this,[[0,6]])}))),function(){return d.apply(this,arguments)})},{key:"getLsMovements",value:(s=c(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.movementService.getMovements();case 3:this.lsMovements=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.warn(t.t0);case 9:case"end":return t.stop()}}),t,this,[[0,6]])}))),function(){return s.apply(this,arguments)})},{key:"closePopUp",value:function(t){var e=document.getElementById(t);this.clearFormQuotaApproved(),this.clearFormFreeUpQuota(),this.clearFormAddQuota(),this.clearFormCancelQuota(),e.style.display="none"}},{key:"openPopUp",value:function(t){document.getElementById(t).style.display="block"}},{key:"setClientInformation",value:function(t,e){this.clientSelected=e,this.contractualInformationSelected=e.contractualInformation,"container__QuotaManager"==t&&this.frmApprovedQuota.controls.txtApprovedQuotaClient.setValue(e.name),"container__freeUpQuota"==t&&this.frmFreeUpQuota.controls.txtFreeUpQuotaClient.setValue(e.name),"container__addQuota"==t&&this.frmAddQuota.controls.txtAddQuotaClient.setValue(e.name),"container__cancelQuota"==t&&this.frmCancelQuota.controls.txtCancelQuotaClient.setValue(e.name)}},{key:"saveApprovedQuota",value:function(){var t=this,e=this.frmApprovedQuota.controls,n=e.txtApprovedQuota,c=e.txtApprovedQuotaObservation,a=new p.a,o=this.clientSelected,i=n.value,r=c.value,u=this.lsMovements.find((function(e){return e.id==t.CREACION_DE_CUPO})),l=[];if(i=i.toString().replace(/\,/g,""),""!=r){var s=new f.a;s.description=r,l.push(s)}a=this.setDataTransaction(o,u,i,null,null,l,null),this.saveTransaction(a)}},{key:"setDataTransaction",value:function(t,e,n){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,i=new p.a;return i.client=t,i.movement=e,i.value=n,i.transactionState=c,i.headerDetails=a,i.lsObservations=o,i.usu_id=v.a.validateUserLogged(),i}},{key:"saveTransaction",value:function(t){var e=this;this.isAwaiting=!0,this.trxService.processTransaction(t).subscribe((function(t){_.a.fire({position:"center",icon:"success",title:t.message,showConfirmButton:!0}),e.isAwaiting=!1,e.closePopUp("container__freeUpQuota"),e.closePopUp("container__addQuota"),e.closePopUp("container__cancelQuota"),e.closePopUp("container__QuotaManager"),e.getLsClientsWithoutQuota(),e.getLsClientsWithQuota(),e.getTodayTransactions()}))}},{key:"clearFormQuotaApproved",value:function(){var t=this.frmApprovedQuota.controls,e=t.txtApprovedQuota,n=t.txtApprovedQuotaObservation;e.setValue(""),n.setValue("")}},{key:"clearFormFreeUpQuota",value:function(){var t=this.frmFreeUpQuota.controls,e=t.txtFreeUpQuota,n=t.txtFreeUpQuotaObservation;e.setValue(""),n.setValue("")}},{key:"clearFormAddQuota",value:function(){var t=this.frmAddQuota.controls,e=t.txtAddQuota,n=t.txtAddQuotaObservation;e.setValue(""),n.setValue("")}},{key:"clearFormCancelQuota",value:function(){this.frmCancelQuota.controls.txtCancelQuotaObservation.setValue("")}},{key:"showElements",value:function(t){this.hideElements();var e="container__"+t,n=document.getElementById("indicator__"+t),c=document.getElementById(e);n.setAttribute("style","display:block"),c.setAttribute("style","display:block")}},{key:"hideElements",value:function(){for(var t=document.getElementsByClassName("element-to-hide"),e=0;e<t.length;e++)t[e].setAttribute("style","display:none")}},{key:"getStringHour",value:function(t){return t.toLocaleString().substr(11,8)}},{key:"formatQuantities",value:function(e){var n,c=t(e);try{for(c.s();!(n=c.n()).done;){var a=n.value;try{var o=this.getElementId("approvedQuota",a.client.id),i=document.getElementById(o),r=this.formatNumberToString(a.approvedQuota);i.innerText=r;var u=this.getElementId("currentQuota",a.client.id),l=document.getElementById(u),s=this.formatNumberToString(a.currentQuota);l.innerText=s;var d=this.getElementId("consumedQuota",a.client.id),b=document.getElementById(d),p=this.formatNumberToString(a.consumedQuota);b.innerText=p;var f=this.getElementId("inTransitQuota",a.client.id),m=document.getElementById(f),v=this.formatNumberToString(a.inTransitQuota);m.innerText=v}catch(h){console.warn(h)}}}catch(g){c.e(g)}finally{c.f()}}},{key:"valideTyping",value:function(t){h.a.validateTyping(t,"numbers")}},{key:"formatNumber",value:function(t){var e=this.frmApprovedQuota.controls.txtApprovedQuota,n=t.target.value.toString().replace(/\,/g,""),c=this.formatNumberToString(n);e.setValue(c)}},{key:"formatNumberToString",value:function(t){return this.sharedFunction.formatNumberToString(t)}},{key:"getElementId",value:function(t,e){return"".concat(t,"_").concat(e)}},{key:"saveFreeUpQuota",value:function(){var t=this,e=this.frmFreeUpQuota.controls,n=e.txtFreeUpQuota,c=e.txtFreeUpQuotaObservation;if(""==n.value)this.alertService.error("Debe ingresar una cantidad"),this.closePopUp("container__freeUpQuota");else{var a=new p.a,o=this.clientSelected,i=n.value;i=i.toString().replace(/\,/g,"");var r=c.value,u=this.lsMovements.find((function(e){return e.id==t.LIBERACION_DE_CUPO})),l=[];this.validatePayment(o,i).then((function(e){if(e){if(""!=r){var n=new f.a;n.description=r,l.push(n)}a=t.setDataTransaction(o,u,i,null,null,l,null),t.saveTransaction(a)}}))}}},{key:"saveAddQuota",value:function(){var t=this,e=this.frmAddQuota.controls,n=e.txtAddQuota,c=e.txtAddQuotaObservation,a=new p.a,o=this.clientSelected,i=n.value,r=c.value,u=this.lsMovements.find((function(e){return e.id==t.ADICION_DE_CUPO})),l=[];if(i=i.toString().replace(/\,/g,""),""!=r){var s=new f.a;s.description=r,l.push(s)}a=this.setDataTransaction(o,u,i,null,null,l,null),this.saveTransaction(a)}},{key:"validatePayment",value:(l=c(regeneratorRuntime.mark((function t(e,n){var a=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.abrupt("return",new Promise(function(){var t=c(regeneratorRuntime.mark((function t(c,o){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.isAwaiting=!0,t.next=3,a.quotaService.validatePaymentVsConsumedQuota(e.id,n);case 3:return i=t.sent,t.abrupt("return",(i.response?c(!0):(_.a.fire({position:"center",icon:"success",title:i.message,showConfirmButton:!0}),c(!1)),a.isAwaiting=!1,i.response));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()));case 4:t.prev=4,t.t0=t.catch(0),console.warn(t.t0);case 7:case"end":return t.stop()}}),t,null,[[0,4]])}))),function(t,e){return l.apply(this,arguments)})},{key:"cancelQuota",value:function(){var t=this,e=this.clientSelected;if(confirm("\xbfEst\xe1 seguro de anular el cupo para el cliente ".concat(e.name,"?"))){var n=this.frmCancelQuota.controls.txtCancelQuotaObservation,c=new p.a,a=n.value,o=this.lsMovements.find((function(e){return e.id==t.CANCELACION_DE_CUPO})),i=[];if(""!=a){var r=new f.a;r.description=a,i.push(r)}c=this.setDataTransaction(e,o,0,null,null,i,null),this.saveTransaction(c)}}},{key:"setTransaction",value:function(t){this.transactionSelected=t,this.trx_id=t.id}},{key:"downloadExcel",value:function(t){var e=this,n=[],c="";"clientWithQuota"===t?(c="Clientes con cupo",n=this.lsClientsWithQuota.map((function(t){return{Nombre:t.client.name,CupoAprobado:e.getCurrency(t.approvedQuota),CupoDisponible:e.getCurrency(t.currentQuota),CupoConsumido:e.getCurrency(t.consumedQuota),CupoEnTransito:e.getCurrency(t.inTransitQuota)}}))):"clientWithOutQuota"===t?(c="Clientes sin cupo",n=this.lsClientsWithoutQuota.map((function(t){return{Documento:t.document,RazonSocial:t.name,Telefono:t.phone,Celular:t.cellphone,Direccion:t.address}}))):(c="Transacciones",n=this.lsTodayTransactionsFilter.map((function(t){var n,c,a;return{Codigo:t.code,Movimiento:t.movement,Cliente:null===(n=t.client)||void 0===n?void 0:n.name,Valor:e.getCurrency(t.value),Hora:"",Usuario:"".concat(null===(c=t.user)||void 0===c?void 0:c.name," ").concat(null===(a=t.user)||void 0===a?void 0:a.lastName)}}))),y.a.convertArrayToFile(n,c)}},{key:"getCurrency",value:function(t){return this.currency.transform(t)}}])&&o(n.prototype,i),r&&o(n,r),e}(),N.\u0275fac=function(t){return new(t||N)(C.Vb(Q.a),C.Vb(M.a),C.Vb(x.a),C.Vb(r.d),C.Vb(w.a))},N.\u0275cmp=C.Pb({type:N,selectors:[["app-quota-management"]],decls:248,vars:21,consts:[["id","container__content"],[1,"container__cards"],[1,"card"],[1,"card-body","default-color",3,"click"],[1,"quantity","dark-green"],["id","indicator__clientsWithQuota",1,"selection__indicator","dark-green","element-to-hide"],[1,"card-body","danger-color",3,"click"],[1,"quantity","dark-red"],["id","indicator__clientsWithoutQuota",1,"selection__indicator","dark-red","element-to-hide"],[1,"card-body","warning-color",3,"click"],[1,"quantity","dark-yellow"],["id","indicator__transactions",1,"selection__indicator","dark-yellow","element-to-hide"],["id","container__clientsWithQuota",1,"element-to-hide","container__tab"],[1,"d-flex","align-items-center","justify-content-between","mb-2"],[1,"btn","btn-primary",3,"click"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],["id","container__clientsWithoutQuota",1,"element-to-hide","container__tab"],[1,"col-number","col-mobile-hide"],[1,"col-mobile-hide"],["id","container__transactions",1,"element-to-hide","container__tab"],[1,"transactionstodayfilter"],["type","text","placeholder","Cliente",1,"form-control",3,"formControl"],["type","button",1,"btn","btn-danger",3,"click"],["id","container__QuotaManager"],[1,"overlay"],[1,"card-body","container__createQuota"],[1,"container__row"],[1,"container__buttonClose"],[3,"click"],[1,"fas","fa-times"],[3,"formGroup"],["class","error-contractual-information",4,"ngIf"],[1,"container__field","container__field-client"],["type","text","formControlName","txtApprovedQuotaClient","disabled","",1,"form-control"],[3,"isFormBlocked","isForResume","contractualInformation"],[1,"container__field","container__field-quota"],["type","text","formControlName","txtApprovedQuota",1,"form-control",3,"keypress","input"],[1,"container__field"],["formControlName","txtApprovedQuotaObservation","cols","30","rows","2",1,"form-control"],["id","container__buttons",1,"buttons__container"],["type","button",1,"btn","btn-success",3,"disabled","click"],["id","container__freeUpQuota"],["type","text","formControlName","txtFreeUpQuotaClient","disabled","",1,"form-control"],["type","text","formControlName","txtFreeUpQuota",1,"form-control",3,"input"],["formControlName","txtFreeUpQuotaObservation","cols","30","rows","2",1,"form-control"],["type","button",1,"btn","btn-success",3,"click"],["id","container__addQuota"],["type","text","formControlName","txtAddQuotaClient","disabled","",1,"form-control"],["type","text","formControlName","txtAddQuota",1,"form-control",3,"input"],["formControlName","txtAddQuotaObservation","cols","30","rows","2",1,"form-control"],["id","container__cancelQuota"],["type","text","formControlName","txtCancelQuotaClient","disabled","",1,"form-control"],["formControlName","txtCancelQuotaObservation","cols","30","rows","2",1,"form-control"],["id","container__resume"],[1,"card","card-review"],["id","container__header",1,"card-header","container__header"],[1,"title_resume"],[1,"fas","fa-times",3,"click"],[1,"card-body"],[3,"trx_id"],[4,"ngIf"],["title","M\xe1s informaci\xf3n",1,"fas","fa-info-circle","text-info"],["title","Ampliar cupo",1,"fas","fa-plus-circle","text-success",3,"click"],["title","Liberar cupo",1,"fas","fa-hand-holding-usd",3,"click"],["title","Anular cupo",1,"fas","fa-trash-alt","text-danger",3,"click"],["title","Crear cupo",1,"fas","fa-plus-circle","text-success",3,"click"],["title","M\xe1s informaci\xf3n",1,"fas","fa-info-circle","text-info",3,"click"],["title","Anular transacci\xf3n",1,"fas","fa-trash-alt","text-danger"],[1,"error-contractual-information"]],template:function(t,e){1&t&&(C.bc(0,"div",0),C.bc(1,"h1"),C.Mc(2,"Administraci\xf3n de cupos"),C.ac(),C.bc(3,"div",1),C.bc(4,"div",2),C.bc(5,"div",3),C.ic("click",(function(){return e.showElements("clientsWithQuota")})),C.bc(6,"span"),C.Mc(7,"Clientes con cupo aprobado"),C.ac(),C.bc(8,"span",4),C.Mc(9),C.ac(),C.ac(),C.Wb(10,"div",5),C.ac(),C.bc(11,"div",2),C.bc(12,"div",6),C.ic("click",(function(){return e.showElements("clientsWithoutQuota")})),C.bc(13,"span"),C.Mc(14,"Clientes sin cupo"),C.ac(),C.bc(15,"span",7),C.Mc(16),C.ac(),C.ac(),C.Wb(17,"div",8),C.ac(),C.bc(18,"div",2),C.bc(19,"div",9),C.ic("click",(function(){return e.showElements("transactions")})),C.bc(20,"span"),C.Mc(21,"Transacciones de hoy"),C.ac(),C.bc(22,"span",10),C.Mc(23),C.ac(),C.ac(),C.Wb(24,"div",11),C.ac(),C.ac(),C.bc(25,"div",12),C.bc(26,"div",13),C.bc(27,"h3"),C.Mc(28,"Clientes con cupo"),C.ac(),C.bc(29,"button",14),C.ic("click",(function(){return e.downloadExcel("clientWithQuota")})),C.Mc(30," Descargar Excel "),C.ac(),C.ac(),C.bc(31,"table",15),C.bc(32,"thead"),C.bc(33,"th"),C.Mc(34,"#"),C.ac(),C.bc(35,"th"),C.Mc(36,"Nombre"),C.ac(),C.bc(37,"th"),C.Mc(38,"Cupo Aprobado"),C.ac(),C.bc(39,"th"),C.Mc(40,"Cupo disponible"),C.ac(),C.bc(41,"th"),C.Mc(42,"Cupo consumido"),C.ac(),C.bc(43,"th"),C.Mc(44,"Cupo en tr\xe1nsito"),C.ac(),C.bc(45,"th"),C.Mc(46,"Acciones"),C.ac(),C.ac(),C.bc(47,"tbody"),C.Lc(48,P,23,28,"tr",16),C.ac(),C.ac(),C.ac(),C.bc(49,"div",17),C.bc(50,"div",13),C.bc(51,"h3"),C.Mc(52,"Clientes con cupo"),C.ac(),C.bc(53,"button",14),C.ic("click",(function(){return e.downloadExcel("clientWithOutQuota")})),C.Mc(54," Descargar Excel "),C.ac(),C.ac(),C.bc(55,"table",15),C.bc(56,"thead"),C.bc(57,"th",18),C.Mc(58,"#"),C.ac(),C.bc(59,"th"),C.Mc(60,"Documento"),C.ac(),C.bc(61,"th"),C.Mc(62,"Raz\xf3n social"),C.ac(),C.bc(63,"th",19),C.Mc(64,"Tel\xe9fono"),C.ac(),C.bc(65,"th",19),C.Mc(66,"Celular"),C.ac(),C.bc(67,"th",19),C.Mc(68,"Direcci\xf3n"),C.ac(),C.bc(69,"th",19),C.Mc(70,"Acciones"),C.ac(),C.ac(),C.bc(71,"tbody"),C.Lc(72,T,16,8,"tr",16),C.ac(),C.ac(),C.ac(),C.bc(73,"div",20),C.bc(74,"div",13),C.bc(75,"h3"),C.Mc(76,"Transacciones del d\xeda"),C.ac(),C.bc(77,"button",14),C.ic("click",(function(){return e.downloadExcel("")})),C.Mc(78," Descargar Excel "),C.ac(),C.ac(),C.bc(79,"div",21),C.Wb(80,"input",22),C.bc(81,"button",23),C.ic("click",(function(){return e.cleanFilter()})),C.Mc(82," Borrar filtro "),C.ac(),C.ac(),C.bc(83,"table",15),C.bc(84,"thead"),C.bc(85,"th",18),C.Mc(86,"#"),C.ac(),C.bc(87,"th"),C.Mc(88,"C\xf3digo"),C.ac(),C.bc(89,"th"),C.Mc(90,"Movimiento"),C.ac(),C.bc(91,"th"),C.Mc(92,"Cliente"),C.ac(),C.bc(93,"th"),C.Mc(94,"Valor"),C.ac(),C.bc(95,"th"),C.Mc(96,"Hora"),C.ac(),C.bc(97,"th"),C.Mc(98,"Usuario"),C.ac(),C.bc(99,"th",19),C.Mc(100,"Acciones"),C.ac(),C.ac(),C.bc(101,"tbody"),C.Lc(102,U,22,18,"tr",16),C.ac(),C.ac(),C.ac(),C.ac(),C.bc(103,"div",24),C.bc(104,"div",25),C.bc(105,"div",2),C.bc(106,"div",26),C.bc(107,"div",27),C.Wb(108,"div"),C.Wb(109,"div"),C.bc(110,"div",28),C.bc(111,"a",29),C.ic("click",(function(){return e.closePopUp("container__QuotaManager")})),C.Wb(112,"i",30),C.ac(),C.ac(),C.ac(),C.bc(113,"form",31),C.bc(114,"div",27),C.bc(115,"h2"),C.Mc(116,"Creaci\xf3n de cupo"),C.ac(),C.ac(),C.Lc(117,S,2,0,"div",32),C.bc(118,"div"),C.bc(119,"div",33),C.bc(120,"label"),C.Mc(121,"Cliente:"),C.ac(),C.Wb(122,"input",34),C.ac(),C.ac(),C.bc(123,"div"),C.Wb(124,"app-contractual-information",35),C.ac(),C.bc(125,"div"),C.bc(126,"div",36),C.bc(127,"label"),C.Mc(128,"Cupo aprobado:"),C.ac(),C.bc(129,"input",37),C.ic("keypress",(function(t){return e.valideTyping(t)}))("input",(function(t){return e.formatNumber(t)})),C.ac(),C.ac(),C.bc(130,"div",38),C.bc(131,"label"),C.Mc(132,"Observaciones:"),C.ac(),C.bc(133,"textarea",39),C.Mc(134,"              "),C.ac(),C.ac(),C.ac(),C.ac(),C.bc(135,"div",40),C.bc(136,"button",23),C.ic("click",(function(){return e.closePopUp("container__QuotaManager")})),C.Mc(137," Cancelar "),C.ac(),C.bc(138,"button",41),C.ic("click",(function(){return e.saveApprovedQuota()})),C.Mc(139," Guardar "),C.ac(),C.ac(),C.ac(),C.ac(),C.ac(),C.ac(),C.bc(140,"div",42),C.bc(141,"div",25),C.bc(142,"div",2),C.bc(143,"div",26),C.bc(144,"div",27),C.Wb(145,"div"),C.Wb(146,"div"),C.bc(147,"div",28),C.bc(148,"a",29),C.ic("click",(function(){return e.closePopUp("container__freeUpQuota")})),C.Wb(149,"i",30),C.ac(),C.ac(),C.ac(),C.bc(150,"form",31),C.bc(151,"div",27),C.bc(152,"h2"),C.Mc(153,"Liberar cupo"),C.ac(),C.ac(),C.bc(154,"div"),C.bc(155,"div",38),C.bc(156,"label"),C.Mc(157,"Cliente:"),C.ac(),C.Wb(158,"input",43),C.ac(),C.bc(159,"div",38),C.bc(160,"label"),C.Mc(161,"Valor:"),C.ac(),C.bc(162,"input",44),C.ic("input",(function(t){return e.formatNumber(t)})),C.ac(),C.ac(),C.bc(163,"div",38),C.bc(164,"label"),C.Mc(165,"Observaciones:"),C.ac(),C.bc(166,"textarea",45),C.Mc(167,"              "),C.ac(),C.ac(),C.ac(),C.ac(),C.bc(168,"div",40),C.bc(169,"button",23),C.ic("click",(function(){return e.closePopUp("container__freeUpQuota")})),C.Mc(170," Cancelar "),C.ac(),C.bc(171,"button",46),C.ic("click",(function(){return e.saveFreeUpQuota()})),C.Mc(172," Guardar "),C.ac(),C.ac(),C.ac(),C.ac(),C.ac(),C.ac(),C.bc(173,"div",47),C.bc(174,"div",25),C.bc(175,"div",2),C.bc(176,"div",26),C.bc(177,"div",27),C.Wb(178,"div"),C.Wb(179,"div"),C.bc(180,"div",28),C.bc(181,"a",29),C.ic("click",(function(){return e.closePopUp("container__addQuota")})),C.Wb(182,"i",30),C.ac(),C.ac(),C.ac(),C.bc(183,"form",31),C.bc(184,"div",27),C.bc(185,"h2"),C.Mc(186,"Adicionar cupo"),C.ac(),C.ac(),C.bc(187,"div"),C.bc(188,"div",38),C.bc(189,"label"),C.Mc(190,"Cliente:"),C.ac(),C.Wb(191,"input",48),C.ac(),C.bc(192,"div",38),C.bc(193,"label"),C.Mc(194,"Valor:"),C.ac(),C.bc(195,"input",49),C.ic("input",(function(t){return e.formatNumber(t)})),C.ac(),C.ac(),C.bc(196,"div",38),C.bc(197,"label"),C.Mc(198,"Observaciones:"),C.ac(),C.bc(199,"textarea",50),C.Mc(200,"              "),C.ac(),C.ac(),C.ac(),C.ac(),C.bc(201,"div",40),C.bc(202,"button",23),C.ic("click",(function(){return e.closePopUp("container__addQuota")})),C.Mc(203," Cancelar "),C.ac(),C.bc(204,"button",46),C.ic("click",(function(){return e.saveAddQuota()})),C.Mc(205," Guardar "),C.ac(),C.ac(),C.ac(),C.ac(),C.ac(),C.ac(),C.bc(206,"div",51),C.bc(207,"div",25),C.bc(208,"div",2),C.bc(209,"div",26),C.bc(210,"div",27),C.Wb(211,"div"),C.Wb(212,"div"),C.bc(213,"div",28),C.bc(214,"a",29),C.ic("click",(function(){return e.closePopUp("container__cancelQuota")})),C.Wb(215,"i",30),C.ac(),C.ac(),C.ac(),C.bc(216,"form",31),C.bc(217,"div",27),C.bc(218,"h2"),C.Mc(219,"Anular cupo"),C.ac(),C.ac(),C.bc(220,"div"),C.bc(221,"div",38),C.bc(222,"label"),C.Mc(223,"Cliente:"),C.ac(),C.Wb(224,"input",52),C.ac(),C.bc(225,"div",38),C.bc(226,"label"),C.Mc(227,"Observaciones:"),C.ac(),C.bc(228,"textarea",53),C.Mc(229,"              "),C.ac(),C.ac(),C.ac(),C.ac(),C.bc(230,"div",40),C.bc(231,"button",23),C.ic("click",(function(){return e.closePopUp("container__cancelQuota")})),C.Mc(232," Cancelar "),C.ac(),C.bc(233,"button",46),C.ic("click",(function(){return e.cancelQuota()})),C.Mc(234," Guardar "),C.ac(),C.ac(),C.ac(),C.ac(),C.ac(),C.ac(),C.bc(235,"div",54),C.bc(236,"div",25),C.bc(237,"div",55),C.bc(238,"div",56),C.bc(239,"h2",57),C.Mc(240),C.nc(241,"lowercase"),C.ac(),C.bc(242,"div",28),C.bc(243,"a"),C.bc(244,"i",58),C.ic("click",(function(){return e.closePopUp("container__resume")})),C.ac(),C.ac(),C.ac(),C.ac(),C.bc(245,"div",59),C.Wb(246,"app-transaction-review",60),C.ac(),C.ac(),C.ac(),C.ac(),C.Lc(247,W,1,0,"app-img-loading",61)),2&t&&(C.Jb(9),C.Nc(e.lsClientsWithQuota?e.lsClientsWithQuota.length:0),C.Jb(7),C.Nc(e.lsClientsWithoutQuota.length),C.Jb(7),C.Nc(e.lsTodayTransactionsFilter.length),C.Jb(25),C.uc("ngForOf",e.lsClientsWithQuota),C.Jb(24),C.uc("ngForOf",e.lsClientsWithoutQuota),C.Jb(8),C.uc("formControl",e.txtFilter),C.Jb(22),C.uc("ngForOf",e.lsTodayTransactionsFilter),C.Jb(11),C.uc("formGroup",e.frmApprovedQuota),C.Jb(4),C.uc("ngIf",!e.contractualInformationSelected),C.Jb(7),C.uc("isFormBlocked",!0)("isForResume",!0)("contractualInformation",e.contractualInformationSelected),C.Jb(14),C.uc("disabled",null==e.contractualInformationSelected||e.frmApprovedQuota.get("txtApprovedQuota").invalid),C.Jb(12),C.uc("formGroup",e.frmFreeUpQuota),C.Jb(33),C.uc("formGroup",e.frmAddQuota),C.Jb(33),C.uc("formGroup",e.frmCancelQuota),C.Jb(24),C.Oc(" ",C.oc(241,19,(null!=e.transactionSelected.movement.name?e.transactionSelected.movement.name:"")+" "+(null!=e.transactionSelected.code?e.transactionSelected.code:e.transactionSelected.consecutive))," "),C.Jb(6),C.uc("trx_id",e.trx_id),C.Jb(1),C.uc("ngIf",e.isAwaiting))},directives:[r.n,u.c,u.q,u.h,u.B,u.r,u.k,r.o,u.i,k.a,O.a,A.a],pipes:[r.l,r.x,r.d],styles:[".container__cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-row:1fr;justify-content:space-around}.container__cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{cursor:pointer;color:#f9fcfb;font-weight:700}.transactionstodayfilter[_ngcontent-%COMP%]{display:flex;align-content:center;flex-direction:row;margin-bottom:20px}.transactionstodayfilter[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:0}.card-body[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.container__field[_ngcontent-%COMP%]{margin-top:5px}.container__createQuota[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-template-rows:3fr}.container__row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;float:right}.container__buttonClose[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse}.overlay[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3fr);grid-template-rows:repeat(3fr);position:fixed;left:0;right:0;top:0;bottom:0;background-color:rgba(6,129,230,.1);border-radius:15px;align-items:center;justify-items:center;z-index:5000;width:100%;height:100%;overflow:scroll;overflow-x:hidden}.buttons__container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}button[_ngcontent-%COMP%]{width:250px;margin-left:10px;margin-top:20px}#container__addQuota[_ngcontent-%COMP%], #container__cancelQuota[_ngcontent-%COMP%], #container__freeUpQuota[_ngcontent-%COMP%], #container__QuotaManager[_ngcontent-%COMP%], #container__resume[_ngcontent-%COMP%]{display:none}.selection__indicator[_ngcontent-%COMP%]{width:100%;height:10px}.dark-green[_ngcontent-%COMP%]{background-color:#26a69a}.dark-red[_ngcontent-%COMP%]{background-color:#e80015}.dark-yellow[_ngcontent-%COMP%]{background-color:#e69900}.quantity[_ngcontent-%COMP%]{width:30px;height:30px;padding:10px;border-radius:50%;display:flex;align-items:center;justify-content:center}#container__clientsWithoutQuota[_ngcontent-%COMP%], #container__transactions[_ngcontent-%COMP%], #indicator__clientsWithoutQuota[_ngcontent-%COMP%], #indicator__transactions[_ngcontent-%COMP%]{display:none}.container__tab[_ngcontent-%COMP%]{margin-top:50px}#container__header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;padding-top:20px}#container__content[_ngcontent-%COMP%]{transition:margin-left 1s;padding:20px 50px;margin-left:250px}i[_ngcontent-%COMP%]{margin:0 3px;cursor:pointer}.card-review[_ngcontent-%COMP%]{width:1200px;height:auto}.container__field-client[_ngcontent-%COMP%]{margin-bottom:15px}.container__field-quota[_ngcontent-%COMP%]{margin-top:15px}.error-contractual-information[_ngcontent-%COMP%]{color:#f08080;text-align:center;padding:10px}"]}),N)}]}],J=((F=function t(){a(this,t)}).\u0275mod=C.Tb({type:F}),F.\u0275inj=C.Sb({factory:function(t){return new(t||F)},imports:[[s.f.forChild(I)],s.f]}),F),D=i("3E9/"),L=((E=function t(){a(this,t)}).\u0275mod=C.Tb({type:E}),E.\u0275inj=C.Sb({factory:function(t){return new(t||E)},imports:[[r.c,l.a,u.l,u.w,J,D.ClientModule]]}),E)}}])}();